<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChaosLab - Showcase</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #030305;
            --bg-section: #0a0a0f;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-dim: #475569;

            --violet: #8b5cf6;
            --cyan: #06b6d4;
            --amber: #f59e0b;
            --emerald: #10b981;
            --red: #ef4444;
            --pink: #ec4899;
            --blue: #3b82f6;
            --orange: #f97316;
            --purple: #a855f7;
            --teal: #14b8a6;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        .serif {
            font-family: 'Playfair Display', serif;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* ═══════════════════════════════════════════════════════════════
           HERO SECTION
           ═══════════════════════════════════════════════════════════════ */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 0 20px;
        }

        .hero-title {
            font-size: clamp(3rem, 10vw, 7rem);
            font-weight: 300;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        .hero-title .violet {
            background: linear-gradient(135deg, #8b5cf6, #c4b5fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
        }

        .hero-title .cyan {
            background: linear-gradient(135deg, #06b6d4, #67e8f9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
        }

        .hero-subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: var(--text-secondary);
            margin-bottom: 2rem;
            opacity: 0;
            animation: fadeInUp 1s ease 0.3s forwards;
        }

        .hero-tagline {
            font-size: 0.9rem;
            color: var(--text-dim);
            opacity: 0;
            animation: fadeInUp 1s ease 0.6s forwards;
        }

        .hero-tagline .mono {
            color: var(--violet);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: var(--text-dim);
            font-size: 0.75rem;
            opacity: 0;
            animation: fadeIn 1s ease 1.5s forwards, bounce 2s ease-in-out 2s infinite;
        }

        .scroll-indicator::after {
            content: '\2193';
            font-size: 1.5rem;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        /* ═══════════════════════════════════════════════════════════════
           ATTRACTOR SECTIONS
           ═══════════════════════════════════════════════════════════════ */
        .attractor-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .attractor-section:nth-child(even) {
            flex-direction: row-reverse;
        }

        .attractor-visual {
            flex: 1;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .attractor-visual canvas {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .attractor-content {
            flex: 1;
            padding: 60px 80px;
            max-width: 600px;
        }

        .attractor-number {
            font-size: 0.75rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 1rem;
        }

        .attractor-name {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 300;
            margin-bottom: 0.5rem;
            line-height: 1.1;
        }

        .attractor-tagline {
            font-size: 1.25rem;
            color: var(--accent);
            margin-bottom: 2rem;
            font-weight: 500;
        }

        .attractor-description {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .attractor-equation {
            background: rgba(255,255,255,0.03);
            border-left: 3px solid var(--accent);
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
            border-radius: 0 8px 8px 0;
        }

        .attractor-equation .equation {
            font-size: 1.1rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
            line-height: 1.8;
        }

        .attractor-equation .explanation {
            font-size: 0.85rem;
            color: var(--text-dim);
            line-height: 1.6;
        }

        .attractor-story {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 2rem;
            margin-top: 2rem;
        }

        .attractor-story h4 {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-dim);
            margin-bottom: 1rem;
        }

        .attractor-story p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .attractor-props {
            margin-top: 1.5rem;
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .attractor-props .prop {
            font-size: 0.8rem;
        }

        .attractor-props .prop-label {
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.65rem;
            display: block;
        }

        .attractor-props .prop-value {
            color: var(--accent);
            font-weight: 500;
        }

        .attractor-cta {
            display: inline-block;
            margin-top: 2rem;
            padding: 12px 32px;
            background: var(--accent);
            color: var(--bg-dark);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
        }

        .attractor-cta:hover {
            transform: translateY(-2px);
            filter: brightness(1.2);
        }

        /* Section-specific colors */
        .section-lorenz     { --accent: #8b5cf6; --accent-rgb: 139, 92, 246; }
        .section-rossler    { --accent: #06b6d4; --accent-rgb: 6, 182, 212; }
        .section-aizawa     { --accent: #f59e0b; --accent-rgb: 245, 158, 11; }
        .section-thomas     { --accent: #10b981; --accent-rgb: 16, 185, 129; }
        .section-halvorsen  { --accent: #ef4444; --accent-rgb: 239, 68, 68; }
        .section-sprott     { --accent: #ec4899; --accent-rgb: 236, 72, 153; }
        .section-chen       { --accent: #3b82f6; --accent-rgb: 59, 130, 246; }
        .section-dadras     { --accent: #f97316; --accent-rgb: 249, 115, 22; }
        .section-threescroll { --accent: #a855f7; --accent-rgb: 168, 85, 247; }
        .section-rabinovich { --accent: #14b8a6; --accent-rgb: 20, 184, 166; }

        /* ═══════════════════════════════════════════════════════════════
           FOOTER
           ═══════════════════════════════════════════════════════════════ */
        .footer {
            padding: 80px 40px;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .footer-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 1rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--violet);
        }

        /* ═══════════════════════════════════════════════════════════════
           NAVIGATION DOTS
           ═══════════════════════════════════════════════════════════════ */
        .nav-dots {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .nav-dot:hover,
        .nav-dot.active {
            background: var(--violet);
            transform: scale(1.3);
        }

        .nav-dot::after {
            content: attr(data-label);
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.7rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            color: var(--text-secondary);
        }

        .nav-dot:hover::after {
            opacity: 1;
        }

        /* ═══════════════════════════════════════════════════════════════
           RESPONSIVE
           ═══════════════════════════════════════════════════════════════ */
        @media (max-width: 1024px) {
            .attractor-section {
                flex-direction: column !important;
                min-height: auto;
            }

            .attractor-visual {
                height: 50vh;
                width: 100%;
            }

            .attractor-content {
                padding: 40px 30px;
                max-width: 100%;
            }

            .nav-dots {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Dots -->
    <nav class="nav-dots">
        <div class="nav-dot active" data-label="Inicio" onclick="scrollToSection(0)"></div>
        <div class="nav-dot" data-label="Lorenz" onclick="scrollToSection(1)"></div>
        <div class="nav-dot" data-label="R\u00f6ssler" onclick="scrollToSection(2)"></div>
        <div class="nav-dot" data-label="Aizawa" onclick="scrollToSection(3)"></div>
        <div class="nav-dot" data-label="Thomas" onclick="scrollToSection(4)"></div>
        <div class="nav-dot" data-label="Halvorsen" onclick="scrollToSection(5)"></div>
        <div class="nav-dot" data-label="Sprott" onclick="scrollToSection(6)"></div>
        <div class="nav-dot" data-label="Chen" onclick="scrollToSection(7)"></div>
        <div class="nav-dot" data-label="Dadras" onclick="scrollToSection(8)"></div>
        <div class="nav-dot" data-label="3-Scroll" onclick="scrollToSection(9)"></div>
        <div class="nav-dot" data-label="R-F" onclick="scrollToSection(10)"></div>
    </nav>

    <!-- ═══════════════════════════════════════════════════════════════
         HERO SECTION
         ═══════════════════════════════════════════════════════════════ -->
    <section class="hero" id="section-0">
        <canvas id="hero-canvas" class="hero-canvas"></canvas>
        <div class="hero-content">
            <h1 class="hero-title serif">
                Donde el <span class="violet">caos</span><br>se vuelve <span class="cyan">belleza</span>
            </h1>
            <p class="hero-subtitle">
                10 atractores extra&ntilde;os. Cada ecuaci&oacute;n, un universo determinista e impredecible.
            </p>
            <p class="hero-tagline">
                <span class="mono">Three.js</span> &middot; <span class="mono">RK4</span> &middot; <span class="mono">WebGL</span> &middot; <span class="mono">Lyapunov</span>
            </p>
        </div>
        <div class="scroll-indicator">
            Explora
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         1. LORENZ
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-lorenz" id="section-1">
        <div class="attractor-visual">
            <canvas id="canvas-lorenz"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">01 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Lorenz</h2>
            <p class="attractor-tagline">El efecto mariposa hecho geometr&iacute;a</p>

            <p class="attractor-description">
                El primer atractor extra&ntilde;o descubierto, modelando convecci&oacute;n atmosf&eacute;rica.
                Dos l&oacute;bulos espirales conectados por un punto de silla: la trayectoria
                salta impredeciblemente entre ellos, pero nunca se repite ni escapa.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = &sigma;(y - x)<br>
                    dy/dt = x(&rho; - z) - y<br>
                    dz/dt = xy - &beta;z
                </div>
                <p class="explanation">
                    &sigma; controla la difusi&oacute;n t&eacute;rmica, &rho; la fuerza de convecci&oacute;n,
                    &beta; el amortiguamiento geom&eacute;trico. Con &sigma;=10, &rho;=28, &beta;=8/3
                    emerge el caos.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    En 1963, Edward Lorenz simplific&oacute; las ecuaciones de Navier-Stokes
                    a solo tres variables para modelar el clima. Al reintroducir datos
                    redondeados descubri&oacute; que diferencias min&uacute;sculas produc&iacute;an
                    resultados radicalmente distintos. Naci&oacute; la teor&iacute;a del caos.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8322;</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1963</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         2. ROSSLER
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-rossler" id="section-2">
        <div class="attractor-visual">
            <canvas id="canvas-rossler"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">02 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de R&ouml;ssler</h2>
            <p class="attractor-tagline">Minimalismo ca&oacute;tico</p>

            <p class="attractor-description">
                Un &uacute;nico t&eacute;rmino no lineal basta para generar caos.
                La trayectoria orbita en espiral plana hasta que una eyecci&oacute;n vertical
                la lanza al espacio, creando la caracter&iacute;stica &ldquo;banda&rdquo; plegada.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = -(y + z)<br>
                    dy/dt = x + ay<br>
                    dz/dt = b + z(x - c)
                </div>
                <p class="explanation">
                    Solo z(x-c) es no lineal. El par&aacute;metro c controla la transici&oacute;n
                    entre &oacute;rbitas peri&oacute;dicas y caos. Con a=0.2, b=0.2, c=5.7
                    emerge el atractor cl&aacute;sico.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Otto R&ouml;ssler, qu&iacute;mico te&oacute;rico, dise&ntilde;&oacute; este sistema en 1976
                    buscando el atractor ca&oacute;tico m&aacute;s simple posible. Mientras Lorenz
                    parti&oacute; de la f&iacute;sica, R&ouml;ssler parti&oacute; de la matem&aacute;tica pura:
                    &iquest;cu&aacute;l es la receta m&iacute;nima del caos?
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Ninguna</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1976</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         3. AIZAWA
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-aizawa" id="section-3">
        <div class="attractor-visual">
            <canvas id="canvas-aizawa"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">03 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Aizawa</h2>
            <p class="attractor-tagline">Simetr&iacute;a rota en el toroide</p>

            <p class="attractor-description">
                Un toroide deformado emerge de ecuaciones con simetr&iacute;a rotacional.
                La trayectoria orbita un eje vertical mientras oscila radialmente,
                generando una superficie densa que casi se cierra pero nunca lo hace.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = (z-b)x - dy<br>
                    dy/dt = dx + (z-b)y<br>
                    dz/dt = c + az - z&sup3;/3 - r&sup2;(1+ez) + fzx&sup3;
                </div>
                <p class="explanation">
                    La variable r&sup2; = x&sup2; + y&sup2; acopla los planos. El t&eacute;rmino c&uacute;bico
                    -z&sup3;/3 impide la divergencia. Con 6 par&aacute;metros, ofrece un rico
                    espacio de bifurcaciones.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Yoji Aizawa estudi&oacute; en 1982 c&oacute;mo la simetr&iacute;a rotacional
                    puede romperse gradualmente en sistemas din&aacute;micos. Su atractor
                    muestra la transici&oacute;n de un toro regular a caos,
                    uno de los mecanismos fundamentales de la turbulencia.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">SO(2)</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1982</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         4. THOMAS
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-thomas" id="section-4">
        <div class="attractor-visual">
            <canvas id="canvas-thomas"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">04 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Thomas</h2>
            <p class="attractor-tagline">Simetr&iacute;a c&iacute;clica perfecta</p>

            <p class="attractor-description">
                Cada variable depende del seno de la siguiente en un ciclo cerrado.
                Esta simetr&iacute;a Z&#8323; produce un atractor donde x, y, z son intercambiables:
                giros lentos y elegantes que llenan un volumen compacto.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = sin(y) - bx<br>
                    dy/dt = sin(z) - by<br>
                    dz/dt = sin(x) - bz
                </div>
                <p class="explanation">
                    Un solo par&aacute;metro b controla la disipaci&oacute;n. Conforme b disminuye,
                    el sistema pasa de punto fijo a ciclo l&iacute;mite y finalmente a caos.
                    En b &asymp; 0.208 emerge el atractor extra&ntilde;o.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Ren&eacute; Thomas, bi&oacute;logo te&oacute;rico, estudi&oacute; redes de retroalimentaci&oacute;n
                    en circuitos gen&eacute;ticos. En 1999 mostr&oacute; que un ciclo de
                    inhibiciones sin&eacute;rgicas produce caos: biolog&iacute;a convertida
                    en geometr&iacute;a fractal.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8323; c&iacute;clica</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1999</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         5. HALVORSEN
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-halvorsen" id="section-5">
        <div class="attractor-visual">
            <canvas id="canvas-halvorsen"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">05 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Halvorsen</h2>
            <p class="attractor-tagline">Tres alas en espiral</p>

            <p class="attractor-description">
                Otra simetr&iacute;a c&iacute;clica Z&#8323; pero con car&aacute;cter radicalmente distinto
                a Thomas. Tres l&oacute;bulos espirales conectados por transiciones r&aacute;pidas
                crean una geometr&iacute;a que recuerda un tr&eacute;bol retorcido.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = -ax - 4y - 4z - y&sup2;<br>
                    dy/dt = -ay - 4z - 4x - z&sup2;<br>
                    dz/dt = -az - 4x - 4y - x&sup2;
                </div>
                <p class="explanation">
                    Los t&eacute;rminos cuadr&aacute;ticos y&sup2;, z&sup2;, x&sup2; rompen la simetr&iacute;a
                    lineal. El par&aacute;metro a &asymp; 1.89 produce las tres alas caracter&iacute;sticas.
                    Es r&aacute;pido y violento: las velocidades var&iacute;an dram&aacute;ticamente.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Christian Halvorsen explor&oacute; el espacio de sistemas c&iacute;clicamente
                    sim&eacute;tricos buscando nuevas topolog&iacute;as de atractores. Su sistema
                    demuestra que la simetr&iacute;a no determina la forma: las mismas
                    invariancias pueden producir geometr&iacute;as completamente distintas.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8323; c&iacute;clica</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">2015</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         6. SPROTT
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-sprott" id="section-6">
        <div class="attractor-visual">
            <canvas id="canvas-sprott"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">06 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Sprott B</h2>
            <p class="attractor-tagline">La esencia del caos en 5 t&eacute;rminos</p>

            <p class="attractor-description">
                Uno de los sistemas ca&oacute;ticos m&aacute;s simples conocidos. Con solo
                cinco t&eacute;rminos y dos no linealidades produce un atractor compacto
                y denso. La prueba de que la complejidad no necesita complicaci&oacute;n.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = yz<br>
                    dy/dt = x - y<br>
                    dz/dt = a - xy
                </div>
                <p class="explanation">
                    Tres ecuaciones, cinco t&eacute;rminos, un par&aacute;metro. La interacci&oacute;n
                    yz y xy genera el plegamiento necesario para el caos.
                    Con a=1, el atractor es compacto y de baja dimensi&oacute;n fractal.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Julien Clinton Sprott, f&iacute;sico de Wisconsin, realiz&oacute; en 1994
                    una b&uacute;squeda computacional exhaustiva de sistemas ca&oacute;ticos simples.
                    Catalog&oacute; 19 sistemas &ldquo;caso&rdquo; A-S, cada uno con propiedades
                    topol&oacute;gicas &uacute;nicas. El caso B es uno de los m&aacute;s elegantes.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Ninguna</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1994</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         7. CHEN
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-chen" id="section-7">
        <div class="attractor-visual">
            <canvas id="canvas-chen"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">07 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Chen</h2>
            <p class="attractor-tagline">Lorenz generalizado</p>

            <p class="attractor-description">
                Una generalizaci&oacute;n matem&aacute;tica del sistema de Lorenz que produce
                din&aacute;micas m&aacute;s complejas: los l&oacute;bulos se deforman, se estiran
                y generan patrones que Lorenz nunca podr&iacute;a producir.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = a(y - x)<br>
                    dy/dt = (c-a)x - xz + cy<br>
                    dz/dt = xy - bz
                </div>
                <p class="explanation">
                    Con a=35, b=3, c=28 emerge un atractor &ldquo;anti-Lorenz&rdquo;: la
                    condici&oacute;n (c-a) invierte la din&aacute;mica del t&eacute;rmino lineal.
                    Chen demostr&oacute; que no es topol&oacute;gicamente equivalente a Lorenz.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Guanrong Chen descubri&oacute; este sistema en 1999 mientras buscaba
                    un atractor que fuera &ldquo;dual&rdquo; al de Lorenz en el sentido de la
                    teor&iacute;a de control. Prob&oacute; que existe un espectro continuo
                    de atractores entre Lorenz y Chen, con L&uuml; como punto medio.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8322;</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1999</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         8. DADRAS
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-dadras" id="section-8">
        <div class="attractor-visual">
            <canvas id="canvas-dadras"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">08 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de Dadras</h2>
            <p class="attractor-tagline">Cuatro equilibrios, doble ala</p>

            <p class="attractor-description">
                Un sistema con cuatro puntos de equilibrio cuya interacci&oacute;n
                produce un atractor de doble ala asim&eacute;trica. Las trayectorias
                visitan ambos l&oacute;bulos con frecuencias irregulares.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = y - ax + byz<br>
                    dy/dt = cy - xz + z<br>
                    dz/dt = dxy - ez
                </div>
                <p class="explanation">
                    Cinco par&aacute;metros (a=3, b=2.7, c=1.7, d=2, e=9) ofrecen
                    un espacio de bifurcaci&oacute;n rico. El t&eacute;rmino byz y la
                    interacci&oacute;n xz-z generan el plegamiento de doble ala.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Sara Dadras propuso este sistema en 2010 como parte de su
                    investigaci&oacute;n en control de sistemas ca&oacute;ticos. Su inter&eacute;s
                    era pr&aacute;ctico: entender el caos para poder suprimirlo
                    o sincronizarlo en comunicaciones seguras.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Ninguna</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">2010</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         9. THREE-SCROLL (Lu)
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-threescroll" id="section-9">
        <div class="attractor-visual">
            <canvas id="canvas-threescroll"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">09 / 10</div>
            <h2 class="attractor-name serif">Atractor<br>de L&uuml;</h2>
            <p class="attractor-tagline">El puente entre Lorenz y Chen</p>

            <p class="attractor-description">
                El sistema unificado Lorenz-Chen-L&uuml; representa un continuo
                de din&aacute;micas ca&oacute;ticas. L&uuml; es el punto cr&iacute;tico: ni Lorenz
                ni Chen, sino la transici&oacute;n misma entre ambos mundos.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = a(y - x)<br>
                    dy/dt = -xz + cy<br>
                    dz/dt = xy - bz
                </div>
                <p class="explanation">
                    Comparado con Chen, el t&eacute;rmino (c-a)x desaparece del dy/dt.
                    Con a=36, b=3, c=20 el atractor muestra tres &ldquo;scrolls&rdquo;:
                    dos laterales y uno vertical.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Jinhu L&uuml; y Guanrong Chen demostraron en 2002 que existe
                    una familia param&eacute;trica continua conectando los atractores
                    de Lorenz, L&uuml; y Chen. Este sistema ocupa el punto cr&iacute;tico
                    donde la topolog&iacute;a del atractor cambia fundamentalmente.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8322;</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">2002</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         10. RABINOVICH-FABRIKANT
         ═══════════════════════════════════════════════════════════════ -->
    <section class="attractor-section section-rabinovich" id="section-10">
        <div class="attractor-visual">
            <canvas id="canvas-rabinovich"></canvas>
        </div>
        <div class="attractor-content">
            <div class="attractor-number">10 / 10</div>
            <h2 class="attractor-name serif">Rabinovich<br>Fabrikant</h2>
            <p class="attractor-tagline">Oscilaciones no lineales al l&iacute;mite</p>

            <p class="attractor-description">
                Un modelo de inestabilidad en oscilaciones no lineales con
                geometr&iacute;a extremadamente compleja. Las trayectorias se retuercen
                en lazos densos que parecen oscilar entre orden y caos.
            </p>

            <div class="attractor-equation">
                <div class="equation mono">
                    dx/dt = y(z-1+x&sup2;) + &gamma;x<br>
                    dy/dt = x(3z+1-x&sup2;) + &gamma;y<br>
                    dz/dt = -2z(&alpha; + xy)
                </div>
                <p class="explanation">
                    Los t&eacute;rminos x&sup2; en dx y dy crean realimentaci&oacute;n cuadr&aacute;tica.
                    El factor -2z(&alpha;+xy) acopla fuertemente las tres variables.
                    Con &alpha;=1.1, &gamma;=0.87 el sistema es extremadamente sensible.
                </p>
            </div>

            <div class="attractor-story">
                <h4>La historia detr&aacute;s</h4>
                <p>
                    Mikhail Rabinovich y Anatoly Fabrikant propusieron este sistema
                    en 1979 estudiando ondas no lineales en plasmas. Es notorio
                    por su extrema sensibilidad: peque&ntilde;&iacute;simos cambios en los
                    par&aacute;metros producen bifurcaciones catastr&oacute;ficas.
                </p>
                <div class="attractor-props">
                    <div class="prop"><span class="prop-label">Tipo</span><span class="prop-value">Continuo (ODE)</span></div>
                    <div class="prop"><span class="prop-label">Simetr&iacute;a</span><span class="prop-value">Z&#8322;</span></div>
                    <div class="prop"><span class="prop-label">A&ntilde;o</span><span class="prop-value">1979</span></div>
                </div>
            </div>

            <a href="index.html" class="attractor-cta">Explorar en 3D &rarr;</a>
        </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════════════
         FOOTER
         ═══════════════════════════════════════════════════════════════ -->
    <footer class="footer">
        <h3 class="footer-title serif">
            <span style="color: #8b5cf6;">Chaos</span><span style="color: #06b6d4;">Lab</span>
        </h3>
        <p style="color: var(--text-secondary);">
            Donde el caos se vuelve belleza
        </p>
        <div class="footer-links">
            <a href="index.html">Explorador 3D</a>
        </div>
        <p style="color: var(--text-dim); margin-top: 2rem; font-size: 0.8rem;">
            10 atractores extra&ntilde;os &middot; Three.js r128 &middot; RK4 &middot; WebGL
        </p>
    </footer>

    <script>
        // ═══════════════════════════════════════════════════════════════
        // RK4 INTEGRATOR (self-contained for showcase)
        // ═══════════════════════════════════════════════════════════════
        function rk4(eq, s, p, dt) {
            const k1 = eq(s, p);
            const s2 = [s[0]+k1[0]*dt*0.5, s[1]+k1[1]*dt*0.5, s[2]+k1[2]*dt*0.5];
            const k2 = eq(s2, p);
            const s3 = [s[0]+k2[0]*dt*0.5, s[1]+k2[1]*dt*0.5, s[2]+k2[2]*dt*0.5];
            const k3 = eq(s3, p);
            const s4 = [s[0]+k3[0]*dt, s[1]+k3[1]*dt, s[2]+k3[2]*dt];
            const k4 = eq(s4, p);
            return [
                s[0]+(k1[0]+2*k2[0]+2*k3[0]+k4[0])*dt/6,
                s[1]+(k1[1]+2*k2[1]+2*k3[1]+k4[1])*dt/6,
                s[2]+(k1[2]+2*k2[2]+2*k3[2]+k4[2])*dt/6
            ];
        }

        // ═══════════════════════════════════════════════════════════════
        // SYSTEM DEFINITIONS
        // ═══════════════════════════════════════════════════════════════
        const systems = {
            lorenz: {
                eq: (s,p) => [10*(s[1]-s[0]), s[0]*(28-s[2])-s[1], s[0]*s[1]-2.667*s[2]],
                init: [1,1,1], dt: 0.005, color: '#8b5cf6',
                proj: (s) => [(s[0])/50, (s[2]-25)/50] // x-z projection
            },
            rossler: {
                eq: (s,p) => [-(s[1]+s[2]), s[0]+0.2*s[1], 0.2+s[2]*(s[0]-5.7)],
                init: [1,1,0], dt: 0.01, color: '#06b6d4',
                proj: (s) => [s[0]/20, s[1]/20]
            },
            aizawa: {
                eq: (s,p) => {
                    const r2 = s[0]*s[0]+s[1]*s[1];
                    return [
                        (s[2]-0.7)*s[0]-3.5*s[1],
                        3.5*s[0]+(s[2]-0.7)*s[1],
                        0.6+0.95*s[2]-s[2]*s[2]*s[2]/3-r2*(1+0.25*s[2])+0.1*s[2]*s[0]*s[0]*s[0]
                    ];
                },
                init: [0.1,0,0], dt: 0.01, color: '#f59e0b',
                proj: (s) => [s[0]/2.5, s[2]/2.5]
            },
            thomas: {
                eq: (s,p) => [Math.sin(s[1])-0.208186*s[0], Math.sin(s[2])-0.208186*s[1], Math.sin(s[0])-0.208186*s[2]],
                init: [1,0,0], dt: 0.03, color: '#10b981',
                proj: (s) => [s[0]/5, s[1]/5]
            },
            halvorsen: {
                eq: (s,p) => [
                    -1.89*s[0]-4*s[1]-4*s[2]-s[1]*s[1],
                    -1.89*s[1]-4*s[2]-4*s[0]-s[2]*s[2],
                    -1.89*s[2]-4*s[0]-4*s[1]-s[0]*s[0]
                ],
                init: [-5,0,0], dt: 0.005, color: '#ef4444',
                proj: (s) => [s[0]/18, s[1]/18]
            },
            sprott: {
                eq: (s,p) => [s[1]*s[2], s[0]-s[1], 1-s[0]*s[1]],
                init: [0.1,0.1,0.1], dt: 0.01, color: '#ec4899',
                proj: (s) => [s[0]/4, s[1]/4]
            },
            chen: {
                eq: (s,p) => [35*(s[1]-s[0]), -7*s[0]-s[0]*s[2]+28*s[1], s[0]*s[1]-3*s[2]],
                init: [-10,0,37], dt: 0.002, color: '#3b82f6',
                proj: (s) => [s[0]/40, (s[2]-25)/40]
            },
            dadras: {
                eq: (s,p) => [s[1]-3*s[0]+2.7*s[1]*s[2], 1.7*s[1]-s[0]*s[2]+s[2], 2*s[0]*s[1]-9*s[2]],
                init: [1,1,1], dt: 0.005, color: '#f97316',
                proj: (s) => [s[0]/15, s[1]/15]
            },
            threescroll: {
                eq: (s,p) => [36*(s[1]-s[0]), -s[0]*s[2]+20*s[1], s[0]*s[1]-3*s[2]],
                init: [-2,-2,20], dt: 0.002, color: '#a855f7',
                proj: (s) => [s[0]/40, (s[2]-20)/40]
            },
            rabinovich: {
                eq: (s,p) => [
                    s[1]*(s[2]-1+s[0]*s[0])+0.87*s[0],
                    s[0]*(3*s[2]+1-s[0]*s[0])+0.87*s[1],
                    -2*s[2]*(1.1+s[0]*s[1])
                ],
                init: [-1,0,0.5], dt: 0.005, color: '#14b8a6',
                proj: (s) => [s[0]/3, s[1]/3]
            }
        };

        // ═══════════════════════════════════════════════════════════════
        // PRECOMPUTE TRAILS (transient + capture)
        // ═══════════════════════════════════════════════════════════════
        const trails = {};
        const TRANSIENT = 2000;
        const CAPTURE = 8000;

        for (const [key, sys] of Object.entries(systems)) {
            let state = sys.init.slice();
            // Skip transient
            for (let i = 0; i < TRANSIENT; i++) {
                state = rk4(sys.eq, state, null, sys.dt);
                if (!isFinite(state[0])) { state = sys.init.slice(); break; }
            }
            // Capture
            const points = [];
            for (let i = 0; i < CAPTURE; i++) {
                state = rk4(sys.eq, state, null, sys.dt);
                if (!isFinite(state[0]) || Math.abs(state[0]) > 1e6) {
                    state = sys.init.slice();
                    continue;
                }
                const [px, py] = sys.proj(state);
                points.push({ x: px, y: py });
            }
            trails[key] = points;
        }

        // ═══════════════════════════════════════════════════════════════
        // NAVIGATION
        // ═══════════════════════════════════════════════════════════════
        const sections = document.querySelectorAll('[id^="section-"]');
        const navDots = document.querySelectorAll('.nav-dot');

        function scrollToSection(index) {
            sections[index].scrollIntoView({ behavior: 'smooth' });
        }

        window.addEventListener('scroll', () => {
            let current = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2) {
                    current = index;
                }
            });
            navDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === current);
            });
        });

        // ═══════════════════════════════════════════════════════════════
        // HERO CANVAS - Multiple attractor ghosts
        // ═══════════════════════════════════════════════════════════════
        const heroCanvas = document.getElementById('hero-canvas');
        const heroCtx = heroCanvas.getContext('2d');

        function resizeHero() {
            heroCanvas.width = window.innerWidth * 2;
            heroCanvas.height = window.innerHeight * 2;
        }
        resizeHero();
        window.addEventListener('resize', resizeHero);

        function drawHero() {
            const w = heroCanvas.width, h = heroCanvas.height;
            heroCtx.fillStyle = '#030305';
            heroCtx.fillRect(0, 0, w, h);

            const time = Date.now() / 1000;
            const cx = w / 2, cy = h / 2;

            // Draw faint ghost trails of multiple attractors
            const ghostSystems = ['lorenz', 'rossler', 'thomas', 'halvorsen'];
            const offsets = [
                { x: -0.25, y: -0.15, scale: 0.3 },
                { x:  0.25, y: -0.15, scale: 0.25 },
                { x: -0.2,  y:  0.2,  scale: 0.25 },
                { x:  0.2,  y:  0.2,  scale: 0.3 },
            ];

            ghostSystems.forEach((key, gi) => {
                const trail = trails[key];
                if (!trail || trail.length < 2) return;
                const sys = systems[key];
                const off = offsets[gi];
                const ox = cx + off.x * w;
                const oy = cy + off.y * h;
                const sc = Math.min(w, h) * off.scale;

                // Rotating offset
                const rotSpeed = 0.1 + gi * 0.05;
                const rot = time * rotSpeed;
                const cosR = Math.cos(rot), sinR = Math.sin(rot);

                heroCtx.strokeStyle = sys.color + '18'; // very faint
                heroCtx.lineWidth = 1.5;
                heroCtx.beginPath();
                for (let i = 0; i < trail.length; i++) {
                    const rx = trail[i].x * cosR - trail[i].y * sinR;
                    const ry = trail[i].x * sinR + trail[i].y * cosR;
                    const px = ox + rx * sc;
                    const py = oy + ry * sc;
                    if (i === 0) heroCtx.moveTo(px, py);
                    else heroCtx.lineTo(px, py);
                }
                heroCtx.stroke();
            });

            // Floating particles
            for (let i = 0; i < 60; i++) {
                const seed = i * 137.5;
                const px = ((seed + time * 15) % w);
                const py = ((seed * 2.3 + time * 8) % h);
                const hue = 260 + (i % 30) * 3;
                heroCtx.fillStyle = `hsla(${hue}, 70%, 60%, 0.3)`;
                heroCtx.beginPath();
                heroCtx.arc(px, py, 1.5 + Math.sin(time + i) * 0.5, 0, Math.PI * 2);
                heroCtx.fill();
            }
        }

        // ═══════════════════════════════════════════════════════════════
        // SECTION CANVASES
        // ═══════════════════════════════════════════════════════════════
        const canvases = {};
        const canvasKeys = [
            'lorenz','rossler','aizawa','thomas','halvorsen',
            'sprott','chen','dadras','threescroll','rabinovich'
        ];
        canvasKeys.forEach(key => {
            canvases[key] = document.getElementById('canvas-' + key);
        });

        function resizeCanvases() {
            Object.values(canvases).forEach(canvas => {
                if (canvas) {
                    canvas.width = canvas.parentElement.offsetWidth * 2;
                    canvas.height = canvas.parentElement.offsetHeight * 2;
                }
            });
        }
        resizeCanvases();
        window.addEventListener('resize', resizeCanvases);

        // ═══════════════════════════════════════════════════════════════
        // DRAW ATTRACTOR (generic function)
        // ═══════════════════════════════════════════════════════════════

        // Each attractor has a "cursor" that animates along its trail
        const cursors = {};
        canvasKeys.forEach(key => { cursors[key] = 0; });

        function drawAttractor(key) {
            const canvas = canvases[key];
            if (!canvas) return;

            // Only draw if visible
            const rect = canvas.getBoundingClientRect();
            if (rect.bottom < -100 || rect.top > window.innerHeight + 100) return;

            const ctx = canvas.getContext('2d');
            const w = canvas.width, h = canvas.height;
            const time = Date.now() / 1000;
            const sys = systems[key];
            const trail = trails[key];
            if (!trail || trail.length < 2) return;

            // Background
            ctx.fillStyle = '#0a0a0f';
            ctx.fillRect(0, 0, w, h);

            const cx = w / 2, cy = h / 2;
            const scale = Math.min(w, h) * 0.4;

            // Slow rotation
            const rot = time * 0.08;
            const cosR = Math.cos(rot), sinR = Math.sin(rot);

            // Draw full trail with fading
            const len = trail.length;
            for (let i = 1; i < len; i++) {
                const age = i / len;
                const alpha = 0.03 + age * 0.25;

                const rx0 = trail[i-1].x * cosR - trail[i-1].y * sinR;
                const ry0 = trail[i-1].x * sinR + trail[i-1].y * cosR;
                const rx1 = trail[i].x * cosR - trail[i].y * sinR;
                const ry1 = trail[i].x * sinR + trail[i].y * cosR;

                ctx.strokeStyle = sys.color + Math.floor(alpha * 255).toString(16).padStart(2, '0');
                ctx.lineWidth = 1.5 + age * 1.5;
                ctx.beginPath();
                ctx.moveTo(cx + rx0 * scale, cy + ry0 * scale);
                ctx.lineTo(cx + rx1 * scale, cy + ry1 * scale);
                ctx.stroke();
            }

            // Animated cursor (bright head)
            cursors[key] = (cursors[key] + 3) % len;
            const ci = cursors[key];
            const cp = trail[ci];
            const crx = cp.x * cosR - cp.y * sinR;
            const cry = cp.x * sinR + cp.y * cosR;
            const headX = cx + crx * scale;
            const headY = cy + cry * scale;

            // Glow
            const gradient = ctx.createRadialGradient(headX, headY, 0, headX, headY, 40);
            gradient.addColorStop(0, sys.color);
            gradient.addColorStop(0.4, sys.color + '60');
            gradient.addColorStop(1, 'transparent');
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(headX, headY, 40, 0, Math.PI * 2);
            ctx.fill();

            // Head point
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(headX, headY, 5, 0, Math.PI * 2);
            ctx.fill();

            // Subtle grid
            ctx.strokeStyle = 'rgba(255,255,255,0.03)';
            ctx.lineWidth = 1;
            const gridStep = Math.min(w, h) / 10;
            for (let x = gridStep; x < w; x += gridStep) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, h);
                ctx.stroke();
            }
            for (let y = gridStep; y < h; y += gridStep) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(w, y);
                ctx.stroke();
            }
        }

        // ═══════════════════════════════════════════════════════════════
        // ANIMATION LOOP
        // ═══════════════════════════════════════════════════════════════
        function animate() {
            drawHero();
            canvasKeys.forEach(key => drawAttractor(key));
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
