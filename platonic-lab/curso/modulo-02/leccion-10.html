<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lección 10: De {p, q} a V, E, F | Matemáticas Visuales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glow-text { text-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
        .progress-bar { background: linear-gradient(90deg, #a855f7, #22d3ee); }
        .katex { color: inherit; font-size: 1.1em; }
    </style>
</head>
<body class="bg-black text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="border-b border-gray-900 bg-black/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <nav class="text-xs text-gray-600 mb-1">
                        <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                        <span class="mx-1">/</span>
                        <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
                        <span class="mx-1">/</span>
                        <span class="text-gray-500">Modulo 02</span>
                    </nav>
                    <h1 class="text-lg font-light">
                        <span class="text-violet-400 font-medium glow-text">Leccion 10</span> — De {p, q} a V, E, F
                    </h1>
                </div>
                <nav class="flex gap-2 text-sm">
                    <a href="./leccion-09.html" class="px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 transition">&larr; Anterior</a>
                    <a href="./leccion-11.html" class="px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 transition">Siguiente &rarr;</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="max-w-6xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar -->
            <aside class="lg:col-span-1">
                <div class="bg-gray-950 border border-gray-900 rounded-2xl p-6 sticky top-24">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">Modulo 02</h3>
                    <p class="text-sm text-gray-500 mb-4">La Formula de Euler</p>

                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-2">
                            <span>Progreso</span>
                            <span>4/6</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 66.6%"></div>
                        </div>
                    </div>

                    <nav class="space-y-2">
                        <a href="./leccion-07.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">7. Vertices, Aristas y Caras</a>
                        <a href="./leccion-08.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">8. La Formula de Euler</a>
                        <a href="./leccion-09.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">9. Demostracion Visual</a>
                        <a href="./leccion-10.html" class="block px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 text-sm">10. De {p, q} a V, E, F</a>
                        <a href="./leccion-11.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">11. &iquest;Por que Solo 5?</a>
                        <a href="./leccion-12.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">12. Topologia y la Esfera</a>
                    </nav>
                </div>
            </aside>

            <!-- Content -->
            <main class="lg:col-span-3">
                <article class="bg-gray-950 border border-gray-900 rounded-2xl p-8">
                    <!-- Header -->
                    <div class="mb-8">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-cyan-400 text-sm font-medium">Leccion 10</span>
                            <span class="text-gray-400 text-sm">~25 min</span>
                        </div>
                        <h1 class="text-3xl font-bold mb-4 text-violet-400 glow-text">De {p, q} a V, E, F</h1>
                        <p class="text-gray-400 text-lg">Tres ecuaciones, dos parametros: como la formula de Euler y el doble conteo determinan completamente la combinatoria de un poliedro regular.</p>
                    </div>

                    <!-- Content -->
                    <div class="prose prose-invert max-w-none">

                        <!-- 1. El Sistema de Ecuaciones -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">El Sistema de Ecuaciones</h2>
                        <p class="text-gray-300 mb-4">
                            En la Leccion 7 descubrimos dos relaciones del doble conteo. En la Leccion 8 enunciamos la formula de Euler. Ahora las reunimos: un poliedro regular \(\{p, q\}\) (caras de \(p\) lados, \(q\) caras por vertice) satisface simultaneamente:
                        </p>
                        <div class="bg-violet-500/5 border border-violet-500/20 rounded-2xl p-6 mb-6">
                            <div class="space-y-3 text-center">
                                <p class="text-gray-200 text-lg">\(pF = 2E\) <span class="text-gray-500 text-sm ml-2">(doble conteo desde caras)</span></p>
                                <p class="text-gray-200 text-lg">\(qV = 2E\) <span class="text-gray-500 text-sm ml-2">(doble conteo desde vertices)</span></p>
                                <p class="text-gray-200 text-lg">\(V - E + F = 2\) <span class="text-gray-500 text-sm ml-2">(Euler)</span></p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Este es un sistema de 3 ecuaciones con 3 incognitas (\(V, E, F\)) y 2 parametros (\(p, q\)). Tiene solucion unica. Resolvamos.
                        </p>

                        <!-- 2. La Derivacion -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">La Derivacion</h2>
                        <p class="text-gray-300 mb-4">
                            De las dos primeras ecuaciones despejamos \(V\) y \(F\) en funcion de \(E\):
                        </p>
                        <div class="bg-gray-900/50 rounded-lg p-6 mb-4 border-l-4 border-violet-400">
                            <div class="text-gray-200 space-y-2">
                                <p>\(F = \dfrac{2E}{p}, \quad V = \dfrac{2E}{q}\)</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Sustituyendo en Euler:
                        </p>
                        <div class="bg-gray-900/50 rounded-lg p-6 mb-6 border-l-4 border-violet-400">
                            <div class="text-gray-200 space-y-2">
                                <p>\(\dfrac{2E}{q} - E + \dfrac{2E}{p} = 2\)</p>
                                <p class="text-sm text-gray-400 mt-1">Dividimos entre \(E\) (que es positivo):</p>
                                <p>\(\dfrac{2}{q} - 1 + \dfrac{2}{p} = \dfrac{2}{E}\)</p>
                                <p class="text-sm text-gray-400 mt-1">Multiplicamos todo por \(pq\):</p>
                                <p>\(2p - pq + 2q = \dfrac{2pq}{E}\)</p>
                                <p class="text-sm text-gray-400 mt-1">Despejamos \(E\):</p>
                                <p class="text-violet-400 font-medium text-lg">\(\displaystyle E = \frac{2pq}{2p + 2q - pq}\)</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Y de aqui obtenemos las tres cantidades:
                        </p>
                        <div class="bg-violet-500/5 border border-violet-500/20 rounded-2xl p-8 mb-6">
                            <p class="text-sm text-gray-500 uppercase tracking-wider mb-4 text-center">Formulas combinatorias para \(\{p, q\}\)</p>
                            <div class="space-y-3 text-center">
                                <p class="text-gray-200 text-lg">\(\displaystyle V = \frac{4p}{2p + 2q - pq}\)</p>
                                <p class="text-gray-200 text-lg">\(\displaystyle E = \frac{2pq}{2p + 2q - pq}\)</p>
                                <p class="text-gray-200 text-lg">\(\displaystyle F = \frac{4q}{2p + 2q - pq}\)</p>
                            </div>
                        </div>

                        <!-- 3. La Condicion de Existencia -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">La Condicion de Existencia</h2>
                        <p class="text-gray-300 mb-4">
                            Para que \(V, E, F\) sean positivos, necesitamos que el denominador sea positivo:
                        </p>
                        <div class="bg-gray-900/50 rounded-lg p-6 mb-4 border-l-4 border-violet-400">
                            <div class="text-gray-200 space-y-2">
                                <p>\(2p + 2q - pq > 0\)</p>
                                <p class="text-sm text-gray-400 mt-1">Sumamos 4 a ambos lados para factorizar:</p>
                                <p>\(2p + 2q - pq + 4 > 4\)</p>
                                <p>\(-(pq - 2p - 2q + 4) > -4\)</p>
                                <p>\(pq - 2p - 2q + 4 < 4\)</p>
                                <p class="text-violet-400 font-medium text-lg">\((p - 2)(q - 2) < 4\)</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-6">
                            Esta es la misma desigualdad que aparece en la Leccion 4 del Modulo 1, pero ahora la hemos derivado <em>algebraicamente</em> desde Euler, no geometricamente desde los angulos. La coincidencia no es casual: la formula de Euler y la condicion angular son dos caras de la misma verdad topologica (como demostramos en la Leccion 8).
                        </p>

                        <!-- 4. Las Cinco Soluciones -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">Las Cinco Soluciones</h2>
                        <p class="text-gray-300 mb-4">
                            Con \(p \geq 3\) y \(q \geq 3\) (minimo triangulos, minimo 3 caras por vertice), el producto \((p-2)(q-2)\) es un entero positivo menor que 4. Sus valores posibles son 1, 2 y 3:
                        </p>

                        <div class="overflow-x-auto mb-6">
                            <table class="w-full text-sm text-gray-300">
                                <thead class="bg-gray-900/70">
                                    <tr>
                                        <th class="px-3 py-2 text-center text-gray-400">\((p{-}2)(q{-}2)\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\(p\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\(q\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\(V\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\(E\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\(F\)</th>
                                        <th class="px-3 py-2 text-left text-gray-400">Solido</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-800">
                                    <tr><td class="px-3 py-2 text-center text-violet-400">1</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center text-cyan-400">4</td><td class="px-3 py-2 text-center text-cyan-400">6</td><td class="px-3 py-2 text-center text-cyan-400">4</td><td class="px-3 py-2">Tetraedro</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">2</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center">4</td><td class="px-3 py-2 text-center text-cyan-400">6</td><td class="px-3 py-2 text-center text-cyan-400">12</td><td class="px-3 py-2 text-center text-cyan-400">8</td><td class="px-3 py-2">Octaedro</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">2</td><td class="px-3 py-2 text-center">4</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center text-cyan-400">8</td><td class="px-3 py-2 text-center text-cyan-400">12</td><td class="px-3 py-2 text-center text-cyan-400">6</td><td class="px-3 py-2">Cubo</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">3</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center">5</td><td class="px-3 py-2 text-center text-cyan-400">12</td><td class="px-3 py-2 text-center text-cyan-400">30</td><td class="px-3 py-2 text-center text-cyan-400">20</td><td class="px-3 py-2">Icosaedro</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">3</td><td class="px-3 py-2 text-center">5</td><td class="px-3 py-2 text-center">3</td><td class="px-3 py-2 text-center text-cyan-400">20</td><td class="px-3 py-2 text-center text-cyan-400">30</td><td class="px-3 py-2 text-center text-cyan-400">12</td><td class="px-3 py-2">Dodecaedro</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <p class="text-gray-300 mb-4">
                            Verifiquemos una entrada. Para \(\{3, 5\}\) (icosaedro):
                        </p>
                        <div class="bg-violet-500/10 border border-violet-500/30 rounded-lg p-6 mb-6">
                            <div class="space-y-2 text-gray-300">
                                <p>Denominador: \(2(3) + 2(5) - 3 \cdot 5 = 6 + 10 - 15 = 1\)</p>
                                <p>\(V = 4 \cdot 3 / 1 = 12\), \(\quad E = 2 \cdot 3 \cdot 5 / 1 = 30\), \(\quad F = 4 \cdot 5 / 1 = 20\)</p>
                                <p>Verificacion: \(12 - 30 + 20 = 2\) <span class="text-cyan-400 ml-2">&#10003;</span></p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-6">
                            Observa que el icosaedro tiene el denominador mas pequeno posible (1), lo que le da los numeros mas grandes. Al crecer \((p-2)(q-2)\), el denominador \(4 - (p-2)(q-2)\) se reduce, y \(V, E, F\) crecen. El tetraedro, con denominador 3, es el mas simple.
                        </p>

                        <!-- 5. Dualidad Algebraica -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">Dualidad Algebraica</h2>
                        <p class="text-gray-300 mb-4">
                            Las formulas revelan una simetria notable. Si intercambiamos \(p \leftrightarrow q\):
                        </p>
                        <div class="bg-gray-900/50 rounded-lg p-6 mb-6 border-l-4 border-cyan-400">
                            <div class="text-gray-200 space-y-3">
                                <p>\(V(p,q) = \dfrac{4p}{2p+2q-pq} \quad \longleftrightarrow \quad V(q,p) = \dfrac{4q}{2p+2q-pq} = F(p,q)\)</p>
                                <p>\(E(p,q) = \dfrac{2pq}{2p+2q-pq} \quad \longleftrightarrow \quad E(q,p) = \dfrac{2qp}{2q+2p-qp} = E(p,q)\)</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Es decir: <strong class="text-cyan-400">intercambiar \(p\) y \(q\) intercambia vertices y caras, pero conserva el numero de aristas.</strong> Esto es exactamente lo que hace la <em>dualidad</em>: el dual de \(\{p, q\}\) es \(\{q, p\}\).
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-gray-900/50 rounded-lg p-4 text-center border border-gray-800">
                                <p class="text-violet-400 font-medium mb-2">\(\{3, 3\} \leftrightarrow \{3, 3\}\)</p>
                                <p class="text-sm text-gray-400">Tetraedro = autodual</p>
                                <p class="text-xs text-gray-600 mt-1">\(V \leftrightarrow F\): 4 &harr; 4</p>
                            </div>
                            <div class="bg-gray-900/50 rounded-lg p-4 text-center border border-gray-800">
                                <p class="text-violet-400 font-medium mb-2">\(\{4, 3\} \leftrightarrow \{3, 4\}\)</p>
                                <p class="text-sm text-gray-400">Cubo &harr; Octaedro</p>
                                <p class="text-xs text-gray-600 mt-1">\(V \leftrightarrow F\): 8 &harr; 6, \(E = 12\)</p>
                            </div>
                            <div class="bg-gray-900/50 rounded-lg p-4 text-center border border-gray-800">
                                <p class="text-violet-400 font-medium mb-2">\(\{5, 3\} \leftrightarrow \{3, 5\}\)</p>
                                <p class="text-sm text-gray-400">Dodecaedro &harr; Icosaedro</p>
                                <p class="text-xs text-gray-600 mt-1">\(V \leftrightarrow F\): 20 &harr; 12, \(E = 30\)</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-6">
                            La dualidad no es solo una curiosidad algebraica. Geometricamente, el dual se construye colocando un vertice en el centro de cada cara y conectando vertices adyacentes. El octaedro vive literalmente <em>dentro</em> del cubo (y viceversa). El tetraedro es especial: su dual es una copia de si mismo.
                        </p>

                        <!-- 6. Los Casos Frontera -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">Los Casos Frontera: Teselaciones</h2>
                        <p class="text-gray-300 mb-4">
                            Cuando \((p-2)(q-2) = 4\), el denominador es exactamente cero. Las formulas dan \(V, E, F \to \infty\): no obtenemos un poliedro finito, sino una <strong class="text-cyan-400">teselacion del plano</strong>. Los angulos suman exactamente \(360°\) en cada vertice, y las caras se extienden sin cerrarse.
                        </p>
                        <div class="overflow-x-auto mb-6">
                            <table class="w-full text-sm text-gray-300">
                                <thead class="bg-gray-900/70">
                                    <tr>
                                        <th class="px-3 py-2 text-center text-gray-400">\(\{p, q\}\)</th>
                                        <th class="px-3 py-2 text-center text-gray-400">\((p{-}2)(q{-}2)\)</th>
                                        <th class="px-3 py-2 text-left text-gray-400">Teselacion</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-800">
                                    <tr><td class="px-3 py-2 text-center text-violet-400">\(\{3, 6\}\)</td><td class="px-3 py-2 text-center">4</td><td class="px-3 py-2">Triangulos, 6 por vertice</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">\(\{4, 4\}\)</td><td class="px-3 py-2 text-center">4</td><td class="px-3 py-2">Cuadrados, 4 por vertice</td></tr>
                                    <tr><td class="px-3 py-2 text-center text-violet-400">\(\{6, 3\}\)</td><td class="px-3 py-2 text-center">4</td><td class="px-3 py-2">Hexagonos, 3 por vertice (panal de abejas)</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-gray-300 mb-6">
                            Y cuando \((p-2)(q-2) > 4\)? El denominador se vuelve negativo, dando \(V, E, F\) negativos: no hay poliedro euclidiano. Pero estos simbolos si tienen significado en <strong class="text-cyan-400">geometria hiperbolica</strong>, donde la curvatura negativa permite configuraciones imposibles en el espacio euclidiano. El simbolo \(\{7, 3\}\), por ejemplo, describe una teselacion del plano hiperbolico con heptagono regulares.
                        </p>

                        <!-- 7. El Mapa Completo -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">El Mapa Completo de \(\{p, q\}\)</h2>
                        <p class="text-gray-300 mb-4">
                            Podemos visualizar todos los simbolos de Schlafli en una grilla donde \(p\) es la fila y \(q\) la columna. Cada celda tiene un valor de \((p-2)(q-2)\):
                        </p>
                        <div class="overflow-x-auto mb-6">
                            <table class="text-sm text-gray-300 mx-auto" style="border-collapse: separate; border-spacing: 2px;">
                                <thead>
                                    <tr>
                                        <th class="px-2 py-1 text-gray-500 text-xs"></th>
                                        <th class="px-2 py-1 text-gray-500 text-xs text-center">\(q{=}3\)</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs text-center">\(q{=}4\)</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs text-center">\(q{=}5\)</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs text-center">\(q{=}6\)</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs text-center">\(q{=}7\)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="px-2 py-1 text-gray-500 text-xs">\(p{=}3\)</td>
                                        <td class="px-3 py-2 text-center rounded bg-violet-500/20 text-violet-300 font-medium">1</td>
                                        <td class="px-3 py-2 text-center rounded bg-violet-500/20 text-violet-300 font-medium">2</td>
                                        <td class="px-3 py-2 text-center rounded bg-violet-500/20 text-violet-300 font-medium">3</td>
                                        <td class="px-3 py-2 text-center rounded bg-cyan-500/15 text-cyan-300">4</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">5</td>
                                    </tr>
                                    <tr>
                                        <td class="px-2 py-1 text-gray-500 text-xs">\(p{=}4\)</td>
                                        <td class="px-3 py-2 text-center rounded bg-violet-500/20 text-violet-300 font-medium">2</td>
                                        <td class="px-3 py-2 text-center rounded bg-cyan-500/15 text-cyan-300">4</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">6</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">8</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">10</td>
                                    </tr>
                                    <tr>
                                        <td class="px-2 py-1 text-gray-500 text-xs">\(p{=}5\)</td>
                                        <td class="px-3 py-2 text-center rounded bg-violet-500/20 text-violet-300 font-medium">3</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">6</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">9</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">12</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">15</td>
                                    </tr>
                                    <tr>
                                        <td class="px-2 py-1 text-gray-500 text-xs">\(p{=}6\)</td>
                                        <td class="px-3 py-2 text-center rounded bg-cyan-500/15 text-cyan-300">4</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">8</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">12</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">16</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">20</td>
                                    </tr>
                                    <tr>
                                        <td class="px-2 py-1 text-gray-500 text-xs">\(p{=}7\)</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">5</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">10</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">15</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">20</td>
                                        <td class="px-3 py-2 text-center rounded bg-gray-800 text-gray-500">25</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-gray-300 mb-6">
                            <span class="inline-block w-3 h-3 rounded bg-violet-500/30 mr-1 align-middle"></span> Violeta: poliedros regulares (\(&lt; 4\)).
                            <span class="inline-block w-3 h-3 rounded bg-cyan-500/20 mr-1 ml-3 align-middle"></span> Cyan: teselaciones euclidianas (\(= 4\)).
                            <span class="inline-block w-3 h-3 rounded bg-gray-800 mr-1 ml-3 align-middle"></span> Gris: teselaciones hiperbolicas (\(&gt; 4\)).
                            La simetria de la grilla respecto a la diagonal (\(p \leftrightarrow q\)) refleja la dualidad: \(\{3,5\}\) y \(\{5,3\}\) son duales, como lo son \(\{3,6\}\) y \(\{6,3\}\).
                        </p>

                        <!-- 8. Ejercicios -->
                        <h2 class="text-2xl font-semibold text-violet-400 mb-4">Ejercicios</h2>
                        <div class="bg-violet-500/10 border border-violet-500/30 rounded-lg p-6 mb-6">
                            <ol class="list-decimal list-inside space-y-4 text-gray-300">
                                <li>Usando las formulas \(E = 2pq/(2p+2q-pq)\), calcula \(V\), \(E\), \(F\) para el cubo \(\{4, 3\}\). Verifica que \(V - E + F = 2\).</li>
                                <li>Demuestra algebraicamente que si \(\{p, q\}\) existe (denominador \(> 0\)), entonces \(\{q, p\}\) tambien existe.
                                    <span class="text-gray-500 text-sm block ml-6 mt-1">(Pista: el denominador \(2p + 2q - pq\) es simetrico en \(p\) y \(q\).)</span>
                                </li>
                                <li>Un poliedro tiene caras cuadradas y triangulares, con 8 caras triangulares y 6 cuadradas. No es regular, pero la formula de Euler sigue valiendo. Calcula \(E\) y \(V\).
                                    <span class="text-gray-500 text-sm block ml-6 mt-1">(Pista: \(\sum p_i = 8 \times 3 + 6 \times 4 = 2E\).)</span>
                                </li>
                                <li>Que pasa con las formulas cuando \(p = 6, q = 3\)? Calcula el limite de \(V/F\) cuando \((p-2)(q-2) \to 4^-\) manteniendo \(q = 3\).</li>
                                <li>Para \(\{p, q\}\) regular, demuestra que \(F/V = p/q\). Interpreta geometricamente esta relacion para el par dual cubo-octaedro.</li>
                            </ol>
                        </div>
                    </div>

                    <!-- LAB Section -->
                    <div class="mt-10">
                        <h2 class="text-2xl font-bold text-cyan-400 mb-4">LAB: Explorador de \(\{p, q\}\)</h2>
                        <p class="text-gray-400 mb-4">Haz clic en cualquier celda violeta para ver el poliedro correspondiente. Arrastra para rotar.</p>

                        <div class="relative rounded-xl border border-gray-800 overflow-hidden" style="background:#030712;">
                            <!-- 3D Canvas -->
                            <canvas id="mini-lab" style="width:100%; height:360px; display:block; cursor:grab;"></canvas>
                            <div class="absolute top-4 left-4 text-left mono">
                                <div class="text-base font-medium text-gray-300 mb-1" id="solid-name">Tetraedro</div>
                                <div class="text-sm text-gray-500" id="solid-pq">{3, 3}</div>
                            </div>
                            <div class="absolute bottom-4 left-0 right-0 text-center mono" id="vef-display"></div>
                        </div>

                        <!-- Interactive {p,q} Grid -->
                        <div class="mt-4 overflow-x-auto">
                            <table class="mx-auto text-sm" style="border-collapse:separate; border-spacing:4px;" id="pq-grid">
                                <thead>
                                    <tr>
                                        <th class="px-2 py-1 text-gray-600 text-xs mono">p\q</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs mono">3</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs mono">4</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs mono">5</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs mono">6</th>
                                        <th class="px-2 py-1 text-gray-500 text-xs mono">7</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
                    <script>
                    (function(){
                        /* ===== Three.js Setup ===== */
                        var canvas = document.getElementById('mini-lab');
                        var renderer = new THREE.WebGLRenderer({canvas:canvas, antialias:true});
                        renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
                        renderer.setClearColor(0x030712);

                        var scene = new THREE.Scene();
                        var camera = new THREE.PerspectiveCamera(35,2,0.1,100);
                        camera.position.z = 5.2;

                        var solids = [
                            {name:'Tetraedro', p:3, q:3, V:4, E:6, F:4,
                             geo:new THREE.TetrahedronGeometry(1.3)},
                            {name:'Cubo', p:4, q:3, V:8, E:12, F:6,
                             geo:new THREE.BoxGeometry(1.7,1.7,1.7)},
                            {name:'Octaedro', p:3, q:4, V:6, E:12, F:8,
                             geo:new THREE.OctahedronGeometry(1.4)},
                            {name:'Dodecaedro', p:5, q:3, V:20, E:30, F:12,
                             geo:new THREE.DodecahedronGeometry(1.3)},
                            {name:'Icosaedro', p:3, q:5, V:12, E:30, F:20,
                             geo:new THREE.IcosahedronGeometry(1.3)}
                        ];

                        var group, rotX=0.4, rotY=0.6, dragging=false, px,py, autoRot=true, autoTimer;
                        var currentIdx = 0;

                        function show(i){
                            if(group) scene.remove(group);
                            group = new THREE.Group();
                            var s=solids[i];
                            currentIdx = i;

                            group.add(new THREE.Mesh(s.geo, new THREE.MeshBasicMaterial({
                                color:0xa78bfa, transparent:true, opacity:0.06, side:THREE.DoubleSide
                            })));
                            group.add(new THREE.LineSegments(
                                new THREE.EdgesGeometry(s.geo),
                                new THREE.LineBasicMaterial({color:0xa78bfa, transparent:true, opacity:0.7})
                            ));

                            var pos=s.geo.getAttribute('position'),seen={},uv=[];
                            for(var j=0;j<pos.count;j++){
                                var k=pos.getX(j).toFixed(3)+','+pos.getY(j).toFixed(3)+','+pos.getZ(j).toFixed(3);
                                if(!seen[k]){seen[k]=1;uv.push(pos.getX(j),pos.getY(j),pos.getZ(j));}
                            }
                            var pg=new THREE.BufferGeometry();
                            pg.setAttribute('position',new THREE.Float32BufferAttribute(uv,3));
                            group.add(new THREE.Points(pg,new THREE.PointsMaterial({color:0x22d3ee,size:5,sizeAttenuation:false})));

                            scene.add(group);

                            document.getElementById('solid-name').textContent=s.name;
                            document.getElementById('solid-pq').textContent='{'+s.p+', '+s.q+'}';

                            var d = document.getElementById('vef-display');
                            var h='<span style="color:#9ca3af">V=</span><span style="color:#a78bfa">'+s.V+'</span>';
                            h+='<span style="color:#4b5563"> &nbsp; </span>';
                            h+='<span style="color:#9ca3af">E=</span><span style="color:#a78bfa">'+s.E+'</span>';
                            h+='<span style="color:#4b5563"> &nbsp; </span>';
                            h+='<span style="color:#9ca3af">F=</span><span style="color:#a78bfa">'+s.F+'</span>';
                            h+='<span style="color:#4b5563"> &nbsp;&nbsp; </span>';
                            h+='<span style="color:#9ca3af">'+s.V+' \u2212 '+s.E+' + '+s.F+' = </span>';
                            h+='<span style="color:#22d3ee;font-weight:600;font-size:1.1em">2</span>';
                            d.innerHTML=h;

                            updateGrid(s.p, s.q);
                        }

                        /* ===== Interactive Grid ===== */
                        var pqMap = {};
                        for(var i=0;i<solids.length;i++){
                            pqMap[solids[i].p+','+solids[i].q] = i;
                        }

                        function buildGrid(){
                            var tbody = document.querySelector('#pq-grid tbody');
                            tbody.innerHTML='';
                            for(var p=3;p<=7;p++){
                                var tr=document.createElement('tr');
                                var th=document.createElement('td');
                                th.className='px-2 py-1 text-gray-500 text-xs mono';
                                th.textContent=p;
                                tr.appendChild(th);
                                for(var q=3;q<=7;q++){
                                    var td=document.createElement('td');
                                    var val=(p-2)*(q-2);
                                    td.className='px-3 py-2 text-center rounded mono text-sm transition-all';
                                    td.setAttribute('data-p',p);
                                    td.setAttribute('data-q',q);

                                    if(val < 4){
                                        // Polyhedron — clickable
                                        td.style.background='rgba(167,139,250,0.15)';
                                        td.style.color='#c4b5fd';
                                        td.style.cursor='pointer';
                                        td.style.border='1px solid rgba(167,139,250,0.2)';
                                        var den=2*p+2*q-p*q;
                                        var V=4*p/den, E=2*p*q/den, F=4*q/den;
                                        td.innerHTML='<div class="font-medium">'+val+'</div><div style="font-size:10px;color:#9ca3af;">'+V+'-'+E+'-'+F+'</div>';
                                        td.addEventListener('click',(function(pp,qq){
                                            return function(){
                                                var idx=pqMap[pp+','+qq];
                                                if(idx !== undefined) show(idx);
                                            };
                                        })(p,q));
                                    } else if(val === 4){
                                        // Tessellation
                                        td.style.background='rgba(34,211,238,0.1)';
                                        td.style.color='#67e8f9';
                                        td.style.border='1px solid rgba(34,211,238,0.15)';
                                        td.innerHTML='<div class="font-medium">4</div><div style="font-size:10px;color:#9ca3af;">\u221E</div>';
                                    } else {
                                        // Hyperbolic
                                        td.style.background='rgba(31,41,55,0.5)';
                                        td.style.color='#4b5563';
                                        td.style.border='1px solid rgba(31,41,55,0.3)';
                                        td.textContent=val;
                                    }
                                    tr.appendChild(td);
                                }
                                tbody.appendChild(tr);
                            }
                        }

                        function updateGrid(sp, sq){
                            var cells = document.querySelectorAll('#pq-grid td[data-p]');
                            for(var c=0;c<cells.length;c++){
                                var cp=+cells[c].dataset.p, cq=+cells[c].dataset.q;
                                var val=(cp-2)*(cq-2);
                                if(val < 4){
                                    if(cp===sp && cq===sq){
                                        cells[c].style.background='rgba(167,139,250,0.35)';
                                        cells[c].style.border='1px solid #a78bfa';
                                        cells[c].style.boxShadow='0 0 12px rgba(167,139,250,0.3)';
                                    } else {
                                        cells[c].style.background='rgba(167,139,250,0.15)';
                                        cells[c].style.border='1px solid rgba(167,139,250,0.2)';
                                        cells[c].style.boxShadow='none';
                                    }
                                }
                            }
                        }

                        buildGrid();

                        /* ===== Interaction ===== */
                        canvas.addEventListener('pointerdown',function(e){
                            dragging=true;px=e.clientX;py=e.clientY;autoRot=false;
                            clearTimeout(autoTimer);canvas.style.cursor='grabbing';
                        });
                        window.addEventListener('pointerup',function(){
                            dragging=false;canvas.style.cursor='grab';
                            autoTimer=setTimeout(function(){autoRot=true;},3000);
                        });
                        window.addEventListener('pointermove',function(e){
                            if(!dragging)return;
                            rotY+=(e.clientX-px)*0.008;rotX+=(e.clientY-py)*0.008;
                            px=e.clientX;py=e.clientY;
                        });

                        function resize(){
                            var w=canvas.clientWidth,h=canvas.clientHeight;
                            renderer.setSize(w,h,false);
                            camera.aspect=w/h;camera.updateProjectionMatrix();
                        }
                        window.addEventListener('resize',resize);
                        resize();

                        show(0);
                        (function loop(){
                            requestAnimationFrame(loop);
                            if(autoRot) rotY+=0.004;
                            if(group) group.rotation.set(rotX,rotY,0);
                            renderer.render(scene,camera);
                        })();
                    })();
                    </script>

                    <!-- Navigation -->
                    <div class="mt-12 pt-8 border-t border-gray-800 flex justify-between items-center">
                        <a href="./leccion-09.html" class="px-6 py-3 bg-gray-900 hover:bg-gray-800 text-gray-400 rounded-lg font-semibold transition">
                            &larr; Demostracion Visual
                        </a>
                        <a href="./leccion-11.html" class="px-6 py-3 bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 rounded-lg font-semibold transition">
                            Siguiente: &iquest;Por que Solo 5? &rarr;
                        </a>
                    </div>
                </article>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-900 py-6 mt-12">
        <div class="max-w-6xl mx-auto px-6 text-center">
            <nav class="text-xs text-gray-600 mb-2">
                <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                <span class="mx-1">/</span>
                <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                <span class="mx-1">/</span>
                <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                <span class="mx-1">/</span>
                <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
                <span class="mx-1">/</span>
                <span class="text-gray-500">Modulo 02</span>
            </nav>
            <p class="text-gray-700 text-sm mono">Modulo 02 &middot; La Formula de Euler</p>
        </div>
    </footer>
</body>
</html>