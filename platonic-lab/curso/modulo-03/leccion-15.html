<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leccion 15: Cubo y Octaedro | Matematicas Visuales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glow-text { text-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
        .progress-bar { background: linear-gradient(90deg, #a855f7, #22d3ee); }
        .katex { color: inherit; font-size: 1.1em; }
    </style>
</head>
<body class="bg-black text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="border-b border-gray-900 bg-black/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <nav class="text-xs text-gray-600 mb-1">
                        <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                        <span class="mx-1">/</span>
                        <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
                        <span class="mx-1">/</span>
                        <span class="text-gray-500">Modulo 03</span>
                    </nav>
                    <h1 class="text-lg font-light">
                        <span class="text-violet-400 font-medium glow-text">Leccion 15</span> — Cubo y Octaedro
                    </h1>
                </div>
                <nav class="flex gap-2 text-sm">
                    <a href="./leccion-14.html" class="px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 transition">← Anterior</a>
                    <a href="./leccion-16.html" class="px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 transition">Siguiente →</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="max-w-6xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar -->
            <aside class="lg:col-span-1">
                <div class="bg-gray-950 border border-gray-900 rounded-2xl p-6 sticky top-24">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">Modulo 03</h3>
                    <p class="text-sm text-gray-500 mb-4">Dualidad y Simetria</p>

                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-2">
                            <span>Progreso</span>
                            <span>3/6</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 50%"></div>
                        </div>
                    </div>

                    <nav class="space-y-2">
                        <a href="./leccion-13.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">13. Concepto de Dualidad</a>
                        <a href="./leccion-14.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">14. El Tetraedro Autodual</a>
                        <a href="./leccion-15.html" class="block px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 text-sm">15. Cubo y Octaedro</a>
                        <a href="./leccion-16.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">16. Dodecaedro e Icosaedro</a>
                        <a href="./leccion-17.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">17. Grupos de Simetria</a>
                        <a href="./leccion-18.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">18. Ejes y Planos de Simetria</a>
                    </nav>
                </div>
            </aside>

            <!-- Content -->
            <main class="lg:col-span-3">
                <article class="bg-gray-950 border border-gray-900 rounded-2xl p-8">
                    <div class="mb-8">
                        <span class="text-cyan-400 text-sm font-medium">Leccion 15</span>
                        <h2 class="text-3xl font-light mt-2 mb-4">
                            <span class="text-violet-400 font-medium glow-text">Cubo</span> y <span class="text-cyan-400 font-medium">Octaedro</span>
                        </h2>
                        <p class="text-gray-400 text-lg">La pareja dual mas estudiada en geometria: \(\{4,3\} \leftrightarrow \{3,4\}\). Coordenadas, metricas y la esfera compartida.</p>
                    </div>

                    <!-- Coordenadas -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">Coordenadas Canonicas</h3>
                        <p class="text-gray-300 mb-4">
                            El <strong class="text-white">cubo</strong> con arista \(a = 2\) tiene vertices en todas las combinaciones de signos:
                        </p>

                        $$ C = \bigl\{(\pm 1, \pm 1, \pm 1)\bigr\} \qquad (8 \text{ vertices}) $$

                        <p class="text-gray-300 mb-4">
                            El <strong class="text-white">octaedro</strong> regular con arista \(a = \sqrt{2}\) tiene vertices sobre los ejes coordenados:
                        </p>

                        $$ O = \bigl\{(\pm 1, 0, 0),\;(0, \pm 1, 0),\;(0, 0, \pm 1)\bigr\} \qquad (6 \text{ vertices}) $$

                        <p class="text-gray-300 mb-4">
                            Los 6 vertices del octaedro son los <strong class="text-white">centroides de las 6 caras del cubo</strong>. Por ejemplo, la cara del cubo con \(x = 1\) tiene 4 vertices \((1, \pm 1, \pm 1)\) y centroide \((1, 0, 0)\) — exactamente un vertice del octaedro.
                        </p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <p class="text-gray-300"><strong class="text-cyan-400">Verificacion:</strong> el cubo tiene 6 caras (\(x = \pm 1\), \(y = \pm 1\), \(z = \pm 1\)). Los 6 centroides son \((\pm 1, 0, 0)\), \((0, \pm 1, 0)\), \((0, 0, \pm 1)\) — los vertices del octaedro. La construccion dual produce exactamente \(O\) a partir de \(C\).</p>
                        </div>

                        <p class="text-gray-300">
                            Reciprocamente, el octaedro tiene 8 caras (una en cada octante). Sus centroides son \((\pm\frac{1}{3}, \pm\frac{1}{3}, \pm\frac{1}{3})\), que forman un cubo mas pequeno: el dual del octaedro es un cubo, confirmando \(\{3,4\}^* = \{4,3\}\).
                        </p>
                    </section>

                    <!-- Intercambio V/E/F -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">El Intercambio Combinatorio</h3>
                        <p class="text-gray-300 mb-4">
                            La dualidad \(\{4,3\} \leftrightarrow \{3,4\}\) intercambia vertices y caras, conservando aristas:
                        </p>

                        <div class="overflow-x-auto mb-4">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium"></th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">\(\{p,q\}\)</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">V</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">E</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">F</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">V-E+F</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 text-violet-400">Cubo</td>
                                        <td class="px-4 py-2 text-center mono">{4,3}</td>
                                        <td class="px-4 py-2 text-center">8</td>
                                        <td class="px-4 py-2 text-center">12</td>
                                        <td class="px-4 py-2 text-center">6</td>
                                        <td class="px-4 py-2 text-center text-yellow-400">2</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 text-cyan-400">Octaedro</td>
                                        <td class="px-4 py-2 text-center mono">{3,4}</td>
                                        <td class="px-4 py-2 text-center">6</td>
                                        <td class="px-4 py-2 text-center">12</td>
                                        <td class="px-4 py-2 text-center">8</td>
                                        <td class="px-4 py-2 text-center text-yellow-400">2</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <p class="text-gray-300 mb-4">
                            El conteo dual confirma las relaciones:
                        </p>

                        $$ \text{Cubo: } pF = 4 \cdot 6 = 24 = 2 \cdot 12 = 2E \quad \checkmark $$
                        $$ \text{Cubo: } qV = 3 \cdot 8 = 24 = 2E \quad \checkmark $$

                        <p class="text-gray-300">
                            Para el octaedro, \(pF = 3 \cdot 8 = 24 = 2E\) y \(qV = 4 \cdot 6 = 24 = 2E\). Las mismas ecuaciones, con \(p\) y \(q\) intercambiados.
                        </p>
                    </section>

                    <!-- Perpendicularidad -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">Aristas Perpendiculares</h3>
                        <p class="text-gray-300 mb-4">
                            Cada arista del cubo tiene una arista dual correspondiente en el octaedro, y son perpendiculares. Verifiquemos con un ejemplo concreto.
                        </p>

                        <p class="text-gray-300 mb-4">
                            Tomemos la arista del cubo de \(A = (1,1,-1)\) a \(B = (1,1,1)\). Su vector director es:
                        </p>

                        $$ \vec{u} = B - A = (0, 0, 2) $$

                        <p class="text-gray-300 mb-4">
                            Esta arista separa las caras \(x = 1\) (centroide \(C_1 = (1,0,0)\)) e \(y = 1\) (centroide \(C_2 = (0,1,0)\)). La arista dual conecta estos centroides:
                        </p>

                        $$ \vec{v} = C_2 - C_1 = (-1, 1, 0) $$

                        $$ \vec{u} \cdot \vec{v} = (0)(-1) + (0)(1) + (2)(0) = 0 \quad \checkmark $$

                        <p class="text-gray-300 mb-4">
                            Perpendiculares. Esto no es coincidencia: las 12 aristas del cubo y las 12 del octaedro forman 12 pares mutuamente perpendiculares. Geometricamente, ambas aristas se cruzan en un punto de la <strong class="text-white">midsphere</strong>.
                        </p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <p class="text-gray-300"><strong class="text-cyan-400">Por que son perpendiculares:</strong> la arista del cubo es paralela a un eje coordenado (conecta vertices que difieren en una coordenada). La arista dual conecta centroides de dos caras adyacentes, que difieren en <em>otras</em> coordenadas. El producto escalar entre un vector alineado a un eje y un vector en el plano perpendicular es siempre cero.</p>
                        </div>
                    </section>

                    <!-- Midsphere -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">La Midsphere Compartida</h3>
                        <p class="text-gray-300 mb-4">
                            Cubo y octaedro comparten la misma midsphere (Leccion 13). Calculemos su radio para el cubo con arista \(a = 2\) (vertices en \((\pm 1,\pm 1,\pm 1)\)).
                        </p>

                        <p class="text-gray-300 mb-4">
                            El punto medio de la arista de \((1,1,-1)\) a \((1,1,1)\) es \(M = (1, 1, 0)\). Su distancia al origen:
                        </p>

                        $$ \rho = |M| = \sqrt{1^2 + 1^2 + 0^2} = \sqrt{2} $$

                        <p class="text-gray-300 mb-4">
                            Verifiquemos con otra arista: de \((1,-1,-1)\) a \((-1,-1,-1)\), punto medio \((0,-1,-1)\), distancia \(\sqrt{0+1+1} = \sqrt{2}\). Todas las aristas del cubo tienen sus puntos medios a distancia \(\sqrt{2}\) del centro.
                        </p>

                        <p class="text-gray-300 mb-4">
                            Para el octaedro inscrito con vertices \((\pm 1, 0, 0)\), etc., la arista de \((1,0,0)\) a \((0,1,0)\) tiene punto medio \((1/2, 1/2, 0)\), con distancia \(\sqrt{1/4+1/4} = 1/\sqrt{2}\). Pero este octaedro tiene un tamano diferente al del cubo. Si normalizamos para que el octaedro tenga el mismo radio de midsphere, ambos la comparten exactamente.
                        </p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <p class="text-gray-300 mb-2"><strong class="text-cyan-400">Radios del cubo</strong> (arista \(a\)):</p>
                            <div class="space-y-1 text-gray-300 mono text-sm">
                                <p>Radio circunscrito: \(R = \frac{a\sqrt{3}}{2}\)</p>
                                <p>Radio de midsphere: \(\rho = \frac{a\sqrt{2}}{2}\)</p>
                                <p>Radio inscrito: \(r = \frac{a}{2}\)</p>
                            </div>
                            <p class="text-gray-300 mt-3 mb-2"><strong class="text-cyan-400">Radios del octaedro</strong> (arista \(a\)):</p>
                            <div class="space-y-1 text-gray-300 mono text-sm">
                                <p>Radio circunscrito: \(R = \frac{a\sqrt{2}}{2}\)</p>
                                <p>Radio de midsphere: \(\rho = \frac{a}{2}\)</p>
                                <p>Radio inscrito: \(r = \frac{a\sqrt{6}}{6}\)</p>
                            </div>
                        </div>

                        <p class="text-gray-300">
                            El cociente \(R/r\) es igual para ambos: \(R/r = \sqrt{3}\). Esto es una consecuencia directa de la dualidad, como vimos en la Leccion 13: los pares duales siempre comparten la razon \(R/r\).
                        </p>
                    </section>

                    <!-- Metricas -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">Metricas Comparadas</h3>
                        <p class="text-gray-300 mb-4">
                            Reunamos las formulas metricas para ambos solidos (arista \(a\)):
                        </p>

                        <div class="overflow-x-auto mb-4">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Propiedad</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Cubo \(\{4,3\}\)</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Octaedro \(\{3,4\}\)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Area superficial</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(6a^2\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(2\sqrt{3}\,a^2\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Volumen</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(a^3\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(\frac{\sqrt{2}}{3}\,a^3\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Angulo diedro</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(90°\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(\arccos(-1/3) \approx 109.47°\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Defecto angular</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(360° - 3 \cdot 90° = 90°\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(360° - 4 \cdot 60° = 120°\)</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">\(R/r\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(\sqrt{3} \approx 1.732\)</td>
                                        <td class="px-4 py-2 text-center mono text-sm">\(\sqrt{3} \approx 1.732\)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <p class="text-gray-300 mb-4">
                            <strong class="text-white">Derivacion del volumen del octaedro:</strong> el octaedro con vertices \((\pm 1, 0, 0)\) etc. se descompone en dos piramides cuadradas (superior e inferior). Cada piramide tiene base cuadrada con vertices \((1,0,0)\), \((0,1,0)\), \((-1,0,0)\), \((0,-1,0)\) y apice en \((0,0,1)\) o \((0,0,-1)\).
                        </p>

                        $$ \text{Lado base} = \sqrt{2}, \quad \text{Area base} = (\sqrt{2})^2 = 2 $$
                        $$ V_{\text{piramide}} = \frac{1}{3} \cdot 2 \cdot 1 = \frac{2}{3}, \quad V_{\text{octaedro}} = 2 \cdot \frac{2}{3} = \frac{4}{3} $$

                        <p class="text-gray-300">
                            Con arista \(a = \sqrt{2}\), esto da \(V = \frac{4}{3}\). Para arista general: \(V = \frac{\sqrt{2}}{3}\,a^3\).
                        </p>
                    </section>

                    <!-- Angulo diedro -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">Angulo Diedro del Octaedro</h3>
                        <p class="text-gray-300 mb-4">
                            El angulo diedro del cubo es trivialmente \(90°\) (caras perpendiculares). El del octaedro requiere calculo. Tomemos la arista compartida entre las caras \((1,0,0)-(0,1,0)-(0,0,1)\) y \((1,0,0)-(0,1,0)-(0,0,-1)\).
                        </p>

                        <p class="text-gray-300 mb-4">
                            Las normales exteriores a estas caras son:
                        </p>

                        $$ \vec{n}_1 = (0,1,0)-(1,0,0) \times (0,0,1)-(1,0,0) = (-1,1,0) \times (-1,0,1) = (1, 1, 1) $$
                        $$ \vec{n}_2 = (-1,1,0) \times (-1,0,-1) = (-1, 1, -1) $$

                        <p class="text-gray-300 mb-4">
                            Normalizando no es necesario para el angulo — usamos el coseno:
                        </p>

                        $$ \cos\theta = \frac{\vec{n}_1 \cdot \vec{n}_2}{|\vec{n}_1||\vec{n}_2|} = \frac{1 \cdot (-1) + 1 \cdot 1 + 1 \cdot (-1)}{\sqrt{3}\sqrt{3}} = \frac{-1}{3} $$

                        $$ \theta = \arccos\!\left(-\frac{1}{3}\right) \approx 109.47° $$

                        <p class="text-gray-300">
                            Este es el mismo angulo que aparece en la quimica como el angulo tetraedrico (la molecula de metano CH\(_4\)). El octaedro y el tetraedro comparten este angulo diedro porque 109.47° = 180° - 70.53°, y el angulo diedro del tetraedro es \(\arccos(1/3) \approx 70.53°\). Son suplementarios.
                        </p>
                    </section>

                    <!-- Cuboctaedro -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">El Cuboctaedro: Punto Medio entre Duales</h3>
                        <p class="text-gray-300 mb-4">
                            Si cortamos los vertices del cubo hasta el punto medio de cada arista (operacion de <strong class="text-white">rectificacion</strong>), obtenemos el <strong class="text-white">cuboctaedro</strong>: un poliedro arquimediano con 12 vertices, 24 aristas y 14 caras.
                        </p>

                        <p class="text-gray-300 mb-4">
                            Los 12 vertices del cuboctaedro son los puntos medios de las 12 aristas del cubo. Para el cubo \((\pm 1,\pm 1,\pm 1)\), estos puntos son todas las permutaciones de \((\pm 1, \pm 1, 0)\):
                        </p>

                        $$ \text{Cuboctaedro} = \bigl\{(\pm 1, \pm 1, 0),\;(\pm 1, 0, \pm 1),\;(0, \pm 1, \pm 1)\bigr\} $$

                        <p class="text-gray-300 mb-4">
                            Sus 14 caras se clasifican en:
                        </p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <ul class="list-disc list-inside space-y-2 text-gray-300 ml-2">
                                <li><strong class="text-white">8 triangulos</strong> — heredados de los 8 vertices del cubo (al cortar cada vertice, la seccion es un triangulo equilatero)</li>
                                <li><strong class="text-white">6 cuadrados</strong> — remanentes de las 6 caras del cubo (cada cara cuadrada, recortada en las esquinas, queda como un cuadrado mas pequeno)</li>
                            </ul>
                        </div>

                        <p class="text-gray-300 mb-4">
                            Lo notable: el cuboctaedro tambien se obtiene rectificando el octaedro. Es el <strong class="text-white">punto medio</strong> entre cubo y octaedro en la familia de operaciones de Conway. En la notacion de Conway, es \(a\{4,3\} = a\{3,4\}\) (la operacion ambo).
                        </p>

                        <p class="text-gray-300">
                            Euler se cumple: \(V - E + F = 12 - 24 + 14 = 2\). La notacion de Schlafli no se aplica (no es regular), pero su simbolo de vertice es \((3.4.3.4)\): alrededor de cada vertice, triangulo y cuadrado se alternan.
                        </p>
                    </section>

                    <!-- Grupo Oh -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">El Grupo \(O_h\): 48 Simetrias Compartidas</h3>
                        <p class="text-gray-300 mb-4">
                            Como vimos en la Leccion 13, \(\text{Sym}(P) = \text{Sym}(P^*)\). Cubo y octaedro comparten el grupo de simetria \(O_h\) con 48 elementos: 24 rotaciones (grupo \(O\)) y 24 rotaciones compuestas con la inversion central.
                        </p>

                        <p class="text-gray-300 mb-4">
                            Las 24 rotaciones del grupo \(O\) se clasifican en:
                        </p>

                        <div class="overflow-x-auto mb-4">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Tipo de eje</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Ejes</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Rotaciones/eje</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Identidad</td>
                                        <td class="px-4 py-2 text-center">—</td>
                                        <td class="px-4 py-2 text-center">1</td>
                                        <td class="px-4 py-2 text-center text-violet-400">1</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Cara-cara (cubo) = vertice-vertice (oct)</td>
                                        <td class="px-4 py-2 text-center">3</td>
                                        <td class="px-4 py-2 text-center">3 (90°, 180°, 270°)</td>
                                        <td class="px-4 py-2 text-center text-violet-400">9</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Vertice-vertice (cubo) = cara-cara (oct)</td>
                                        <td class="px-4 py-2 text-center">4</td>
                                        <td class="px-4 py-2 text-center">2 (120°, 240°)</td>
                                        <td class="px-4 py-2 text-center text-violet-400">8</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">Arista-arista (ambos)</td>
                                        <td class="px-4 py-2 text-center">6</td>
                                        <td class="px-4 py-2 text-center">1 (180°)</td>
                                        <td class="px-4 py-2 text-center text-violet-400">6</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        $$ 1 + 9 + 8 + 6 = 24 = |O| $$

                        <p class="text-gray-300 mb-4">
                            Observa como la dualidad intercambia la interpretacion de los ejes: un eje cara-cara del cubo es un eje vertice-vertice del octaedro. Pero el eje fisico es el mismo en ambos casos.
                        </p>

                        <p class="text-gray-300">
                            El grupo \(O\) es isomorfo al grupo simetrico \(S_4\) (permutaciones de 4 objetos). Los "4 objetos" son las 4 diagonales principales del cubo, que cada rotacion permuta. Exploraremos esto en detalle en la Leccion 17.
                        </p>
                    </section>

                    <!-- Ejercicios -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">Ejercicios</h3>
                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-4">
                            <div>
                                <p class="text-gray-300"><strong class="text-white">1.</strong> Calcula los centroides de las 8 caras del octaedro con vertices \((\pm 1, 0, 0)\), \((0, \pm 1, 0)\), \((0, 0, \pm 1)\). Verifica que forman un cubo (todos los vertices tienen la forma \((\pm c, \pm c, \pm c)\) para algun \(c\)).</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">2.</strong> Toma la arista del cubo de \((-1,-1,-1)\) a \((1,-1,-1)\). Identifica las dos caras que comparten esta arista, calcula sus centroides, y verifica que la arista dual resultante es perpendicular a la original.</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">3.</strong> El cuboctaedro tiene vertices en \((\pm 1, \pm 1, 0)\) y permutaciones ciclicas. Verifica que tiene 12 vertices, calcula el numero de aristas y caras, y comprueba \(V - E + F = 2\).</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">4.</strong> Demuestra que el angulo diedro del octaedro y el del tetraedro suman \(180°\). (Pista: \(\arccos(1/3) + \arccos(-1/3) = \pi\) — ¿por que?)</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">5.</strong> Las 4 diagonales principales del cubo conectan vertices opuestos. Escribe las 4 diagonales para el cubo \((\pm 1, \pm 1, \pm 1)\). Muestra que una rotacion de \(120°\) alrededor de la diagonal \((1,1,1)\) a \((-1,-1,-1)\) permuta ciclicamente las otras 3 diagonales.</p>
                            </div>
                        </div>
                    </section>

                    <!-- LAB -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">LAB: Cubo y Octaedro Duales</h3>
                        <p class="text-gray-400 mb-4">Observa el cubo y el octaedro dual superpuestos. Usa el slider para interpolar entre ambos. Activa el cuboctaedro para ver el solido intermedio.</p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl overflow-hidden">
                            <!-- Controls -->
                            <div class="flex flex-wrap items-center gap-4 p-4 border-b border-gray-800">
                                <div class="flex items-center gap-3 flex-1">
                                    <span class="text-sm text-gray-400 w-28">Dual: <span id="dual-val" class="text-violet-400 mono">0%</span></span>
                                    <input type="range" id="dual-slider" min="0" max="100" value="0" class="flex-1 accent-violet-500">
                                </div>
                                <label class="text-sm text-gray-400 flex items-center gap-2">
                                    <input type="checkbox" id="show-mid" class="accent-yellow-500"> Midsphere
                                </label>
                                <label class="text-sm text-gray-400 flex items-center gap-2">
                                    <input type="checkbox" id="show-cuboct" class="accent-green-500"> Cuboctaedro
                                </label>
                            </div>
                            <!-- Info -->
                            <div id="info-bar" class="flex justify-center gap-6 px-4 py-2 border-b border-gray-800 text-sm mono">
                                <span class="text-violet-400">Cubo: V=8 E=12 F=6</span>
                                <span class="text-gray-600">|</span>
                                <span class="text-cyan-400">Oct: V=6 E=12 F=8</span>
                            </div>
                            <!-- Canvas -->
                            <canvas id="lab-canvas" class="w-full bg-black" style="height:480px;"></canvas>
                        </div>
                    </section>

                    <!-- Navigation -->
                    <div class="mt-12 pt-8 border-t border-gray-800 flex justify-between items-center">
                        <a href="./leccion-14.html" class="px-6 py-3 bg-gray-900 hover:bg-gray-800 rounded-lg text-gray-300 transition">
                            ← El Tetraedro Autodual
                        </a>
                        <a href="./leccion-16.html" class="px-6 py-3 bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 rounded-lg transition">
                            Siguiente: Dodecaedro e Icosaedro →
                        </a>
                    </div>
                </article>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-900 py-6 mt-12">
        <div class="max-w-6xl mx-auto px-6">
            <nav class="text-xs text-gray-600 text-center mb-2">
                <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                <span class="mx-1">/</span>
                <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                <span class="mx-1">/</span>
                <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                <span class="mx-1">/</span>
                <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
            </nav>
            <p class="text-center text-gray-700 text-sm mono">Matematicas Visuales — De Platon a 4D</p>
        </div>
    </footer>

    <!-- Three.js LAB -->
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script>
    (function(){
        var canvas = document.getElementById('lab-canvas');
        var W = canvas.clientWidth, H = canvas.clientHeight;
        canvas.width = W * 2; canvas.height = H * 2;

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(45, W/H, 0.1, 100);
        camera.position.set(0, 0, 6);

        var renderer = new THREE.WebGLRenderer({canvas: canvas, antialias: true, alpha: true});
        renderer.setSize(W, H);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setClearColor(0x000000);

        var group = new THREE.Group();
        scene.add(group);

        var S = 1.3;

        // Cube vertices: (±1,±1,±1) scaled
        var cubeV = [];
        [-1,1].forEach(function(a){[-1,1].forEach(function(b){[-1,1].forEach(function(c){
            cubeV.push([a*S, b*S, c*S]);
        });});});
        // Cube edges
        var cubeE = [];
        for (var i = 0; i < 8; i++) {
            for (var j = i+1; j < 8; j++) {
                var d = 0;
                for (var k = 0; k < 3; k++) d += Math.abs(cubeV[i][k] - cubeV[j][k]) > 0.1 ? 1 : 0;
                if (d === 1) cubeE.push([i, j]);
            }
        }
        // Cube faces (for centroids): 6 faces
        var cubeFaces = [
            [0,1,3,2], // z=-1
            [4,5,7,6], // z=+1
            [0,1,5,4], // y=-1
            [2,3,7,6], // y=+1
            [0,2,6,4], // x=-1
            [1,3,7,5]  // x=+1
        ];

        // Octahedron vertices: (±1,0,0), (0,±1,0), (0,0,±1) scaled
        var octV = [
            [S,0,0], [-S,0,0], [0,S,0], [0,-S,0], [0,0,S], [0,0,-S]
        ];
        // Octahedron edges
        var octE = [];
        for (var i = 0; i < 6; i++) {
            for (var j = i+1; j < 6; j++) {
                // Adjacent if NOT on same axis (not opposite vertices)
                var ax1 = -1, ax2 = -1;
                for (var k = 0; k < 3; k++) {
                    if (Math.abs(octV[i][k]) > 0.5) ax1 = k;
                    if (Math.abs(octV[j][k]) > 0.5) ax2 = k;
                }
                if (ax1 !== ax2) octE.push([i, j]);
            }
        }
        // Octahedron faces (8 triangles, one per octant)
        var octFaces = [
            [0,2,4], [0,2,5], [0,3,4], [0,3,5],
            [1,2,4], [1,2,5], [1,3,4], [1,3,5]
        ];

        // Cuboctahedron vertices: midpoints of cube edges
        var cuboctV = [];
        cubeE.forEach(function(e){
            cuboctV.push([
                (cubeV[e[0]][0]+cubeV[e[1]][0])/2,
                (cubeV[e[0]][1]+cubeV[e[1]][1])/2,
                (cubeV[e[0]][2]+cubeV[e[1]][2])/2
            ]);
        });
        // Cuboctahedron edges: connect midpoints that are at min distance
        var cuboctE = [];
        var minD = Infinity;
        for (var i = 0; i < cuboctV.length; i++) {
            for (var j = i+1; j < cuboctV.length; j++) {
                var dd = 0;
                for (var k = 0; k < 3; k++) dd += Math.pow(cuboctV[i][k]-cuboctV[j][k], 2);
                dd = Math.sqrt(dd);
                if (dd < minD) minD = dd;
            }
        }
        for (var i = 0; i < cuboctV.length; i++) {
            for (var j = i+1; j < cuboctV.length; j++) {
                var dd = 0;
                for (var k = 0; k < 3; k++) dd += Math.pow(cuboctV[i][k]-cuboctV[j][k], 2);
                if (Math.sqrt(dd) < minD * 1.05) cuboctE.push([i, j]);
            }
        }

        // Face centroids
        function centroid(verts, face) {
            var c = [0,0,0];
            face.forEach(function(i){ c[0]+=verts[i][0]; c[1]+=verts[i][1]; c[2]+=verts[i][2]; });
            var n = face.length;
            return [c[0]/n, c[1]/n, c[2]/n];
        }

        var dualT = 0;

        function makeLine(v1, v2, color, opacity) {
            var geo = new THREE.BufferGeometry();
            geo.setAttribute('position', new THREE.Float32BufferAttribute([v1[0],v1[1],v1[2],v2[0],v2[1],v2[2]], 3));
            return new THREE.Line(geo, new THREE.LineBasicMaterial({color:color, transparent:true, opacity:opacity}));
        }

        function makePoints(verts, color, opacity, size) {
            var pts = [];
            verts.forEach(function(v){pts.push(v[0],v[1],v[2]);});
            var geo = new THREE.BufferGeometry();
            geo.setAttribute('position', new THREE.Float32BufferAttribute(pts, 3));
            return new THREE.Points(geo, new THREE.PointsMaterial({color:color, size:size||5, sizeAttenuation:false, transparent:true, opacity:opacity}));
        }

        function makeFaces(verts, faces, color, opacity) {
            var pos = [];
            faces.forEach(function(f){
                // Triangulate (fan from first vertex)
                for (var i = 1; i < f.length - 1; i++) {
                    pos.push(verts[f[0]][0],verts[f[0]][1],verts[f[0]][2]);
                    pos.push(verts[f[i]][0],verts[f[i]][1],verts[f[i]][2]);
                    pos.push(verts[f[i+1]][0],verts[f[i+1]][1],verts[f[i+1]][2]);
                }
            });
            var geo = new THREE.BufferGeometry();
            geo.setAttribute('position', new THREE.Float32BufferAttribute(pos, 3));
            geo.computeVertexNormals();
            return new THREE.Mesh(geo, new THREE.MeshBasicMaterial({color:color, transparent:true, opacity:opacity, side:THREE.DoubleSide}));
        }

        function rebuild() {
            while(group.children.length) group.remove(group.children[0]);

            var t = dualT;
            var showMid = document.getElementById('show-mid').checked;
            var showCuboct = document.getElementById('show-cuboct').checked;

            // Cube
            var cubeAlpha = 1 - t * 0.5;
            cubeE.forEach(function(e){
                group.add(makeLine(cubeV[e[0]], cubeV[e[1]], 0xa78bfa, cubeAlpha));
            });
            group.add(makePoints(cubeV, 0xa78bfa, Math.min(1, cubeAlpha + 0.2), 5));
            group.add(makeFaces(cubeV, cubeFaces, 0xa78bfa, 0.04));

            // Octahedron (dual)
            if (t > 0) {
                // Scale octahedron so its circumradius matches cube's insphere
                // For display, scale to match nicely inside cube
                var octScale = S; // octahedron vertices at ±S on axes
                var dualAlpha = t * 0.9;
                octE.forEach(function(e){
                    group.add(makeLine(octV[e[0]], octV[e[1]], 0x22d3ee, dualAlpha));
                });
                group.add(makePoints(octV, 0x22d3ee, Math.min(1, dualAlpha + 0.2), 5));
                group.add(makeFaces(octV, octFaces, 0x22d3ee, 0.04 * t));
            }

            // Midsphere
            if (showMid) {
                // Midpoint of cube edge: e.g. midpoint of (S,S,-S)-(S,S,S) = (S,S,0)
                // distance = sqrt(S^2 + S^2) = S*sqrt(2)
                var rho = S * Math.SQRT2;
                var sg = new THREE.SphereGeometry(rho, 32, 32);
                var sm = new THREE.MeshBasicMaterial({color:0xfbbf24, transparent:true, opacity:0.06, wireframe:true});
                group.add(new THREE.Mesh(sg, sm));
            }

            // Cuboctahedron
            if (showCuboct) {
                cuboctE.forEach(function(e){
                    group.add(makeLine(cuboctV[e[0]], cuboctV[e[1]], 0x4ade80, 0.6));
                });
                group.add(makePoints(cuboctV, 0x4ade80, 0.7, 4));
            }
        }

        document.getElementById('dual-slider').addEventListener('input', function(){
            dualT = this.value / 100;
            document.getElementById('dual-val').textContent = this.value + '%';
            rebuild();
        });
        document.getElementById('show-mid').addEventListener('change', function(){ rebuild(); });
        document.getElementById('show-cuboct').addEventListener('change', function(){ rebuild(); });

        // Drag rotation
        var isDragging = false, prevX = 0, prevY = 0, autoTimer = 0;
        canvas.addEventListener('mousedown', function(e){isDragging=true;prevX=e.clientX;prevY=e.clientY;autoTimer=0;});
        canvas.addEventListener('mousemove', function(e){
            if(!isDragging) return;
            var dx=e.clientX-prevX, dy=e.clientY-prevY;
            group.rotation.y+=dx*0.01;
            group.rotation.x+=dy*0.01;
            prevX=e.clientX; prevY=e.clientY;
        });
        canvas.addEventListener('mouseup', function(){isDragging=false;});
        canvas.addEventListener('mouseleave', function(){isDragging=false;});
        // Touch
        canvas.addEventListener('touchstart', function(e){
            e.preventDefault();isDragging=true;prevX=e.touches[0].clientX;prevY=e.touches[0].clientY;autoTimer=0;
        },{passive:false});
        canvas.addEventListener('touchmove', function(e){
            e.preventDefault();
            if(!isDragging) return;
            var dx=e.touches[0].clientX-prevX, dy=e.touches[0].clientY-prevY;
            group.rotation.y+=dx*0.01;
            group.rotation.x+=dy*0.01;
            prevX=e.touches[0].clientX; prevY=e.touches[0].clientY;
        },{passive:false});
        canvas.addEventListener('touchend', function(){isDragging=false;});

        rebuild();

        function animate(){
            requestAnimationFrame(animate);
            if(!isDragging){
                autoTimer += 0.016;
                if(autoTimer > 3) group.rotation.y += 0.003;
            }
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', function(){
            W = canvas.clientWidth; H = canvas.clientHeight;
            camera.aspect = W/H;
            camera.updateProjectionMatrix();
            renderer.setSize(W, H);
        });
    })();
    </script>
</body>
</html>
