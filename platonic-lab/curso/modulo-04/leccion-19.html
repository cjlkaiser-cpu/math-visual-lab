<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leccion 19: El Salto a la Cuarta Dimension | Matematicas Visuales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glow-text { text-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
        .progress-bar { background: linear-gradient(90deg, #a855f7, #22d3ee); }
        .katex { color: inherit; font-size: 1.1em; }
    </style>
</head>
<body class="bg-black text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="border-b border-gray-900 bg-black/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <nav class="text-xs text-gray-600 mb-1">
                        <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                        <span class="mx-1">/</span>
                        <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
                        <span class="mx-1">/</span>
                        <span class="text-gray-500">Modulo 04</span>
                    </nav>
                    <h1 class="text-lg font-light">
                        <span class="text-violet-400 font-medium glow-text">Leccion 19</span> — El Salto a la Cuarta Dimension
                    </h1>
                </div>
                <nav class="flex gap-2 text-sm">
                    <a href="../modulo-03/leccion-18.html" class="px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 transition">← Anterior</a>
                    <a href="./leccion-20.html" class="px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 transition">Siguiente →</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="max-w-6xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar -->
            <aside class="lg:col-span-1">
                <div class="bg-gray-950 border border-gray-900 rounded-2xl p-6 sticky top-24">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">Modulo 04</h3>
                    <p class="text-sm text-gray-500 mb-4">Mas Alla de la Tercera Dimension</p>

                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-2">
                            <span>Progreso</span>
                            <span>1/6</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 16.6%"></div>
                        </div>
                    </div>

                    <nav class="space-y-2">
                        <a href="./leccion-19.html" class="block px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 text-sm">19. El Salto a la Cuarta Dimension</a>
                        <a href="./leccion-20.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">20. Los Seis Politopos Regulares</a>
                        <a href="./leccion-21.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">21. Euler-Poincare y Dualidad</a>
                        <a href="./leccion-22.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">22. Proyecciones: De 4D a Pantalla</a>
                        <a href="./leccion-23.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">23. Rotaciones en 4D y el 24-celda</a>
                        <a href="./leccion-24.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">24. Dimensiones Superiores y Sintesis</a>
                    </nav>
                </div>
            </aside>

            <!-- Content -->
            <main class="lg:col-span-3">
                <article class="bg-gray-950 border border-gray-900 rounded-2xl p-8">
                    <div class="mb-8">
                        <span class="text-cyan-400 text-sm font-medium">Leccion 19</span>
                        <h2 class="text-3xl font-light mt-2 mb-4">
                            <span class="text-violet-400 font-medium glow-text">El Salto</span> a la Cuarta Dimension
                        </h2>
                        <p class="text-gray-400 text-lg">Fundamentar \(\mathbb{R}^4\) como espacio matematico. Construir el teseracto por extrusion sistematica.</p>
                    </div>

                    <!-- 1. La Escalera Dimensional -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">1. La Escalera Dimensional</h3>
                        <p class="text-gray-300 mb-4">
                            La geometria clasica trabaja en tres dimensiones, pero la matematica no tiene ninguna razon para detenerse ahi. El paso de una dimension a la siguiente sigue un patron sorprendentemente uniforme: <strong class="text-white">extruir</strong> el objeto existente en una nueva direccion perpendicular a todas las anteriores.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Recorramos la escalera desde el principio. Un <strong class="text-white">punto</strong> (dimension 0) no tiene extension alguna. Si lo desplazamos una distancia unitaria en una direccion, el punto barre un <strong class="text-white">segmento</strong> (dimension 1). Si ahora extruimos ese segmento en una direccion perpendicular, obtenemos un <strong class="text-white">cuadrado</strong> (dimension 2). Extruir el cuadrado perpendicularmente produce un <strong class="text-white">cubo</strong> (dimension 3). Y aqui viene el salto conceptual: extruir el cubo en una cuarta direccion perpendicular, que llamaremos \(w\), genera un <strong class="text-white">teseracto</strong> o hipercubo de dimension 4.
                        </p>
                        <p class="text-gray-300 mb-4">
                            En cada paso, el numero de vertices se duplica. Si el objeto en dimension \(n\) tiene \(V_n\) vertices, al extruirlo obtenemos dos copias (la original y la desplazada), conectadas entre si. Esto da \(V_{n+1} = 2V_n\), con \(V_0 = 1\), de modo que:
                        </p>

                        $$ V_n = 2^n $$

                        <p class="text-gray-300 mb-4">
                            La siguiente tabla resume los elementos constituyentes en cada dimension:
                        </p>

                        <div class="overflow-x-auto mb-4">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Dim</th>
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Nombre</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">V</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">E</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">F</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">C</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 mono text-violet-400">0</td>
                                        <td class="px-4 py-2">Punto</td>
                                        <td class="px-4 py-2 text-center">1</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 mono text-violet-400">1</td>
                                        <td class="px-4 py-2">Segmento</td>
                                        <td class="px-4 py-2 text-center">2</td>
                                        <td class="px-4 py-2 text-center">1</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 mono text-violet-400">2</td>
                                        <td class="px-4 py-2">Cuadrado</td>
                                        <td class="px-4 py-2 text-center">4</td>
                                        <td class="px-4 py-2 text-center">4</td>
                                        <td class="px-4 py-2 text-center">1</td>
                                        <td class="px-4 py-2 text-center text-gray-600">--</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 mono text-violet-400">3</td>
                                        <td class="px-4 py-2">Cubo</td>
                                        <td class="px-4 py-2 text-center">8</td>
                                        <td class="px-4 py-2 text-center">12</td>
                                        <td class="px-4 py-2 text-center">6</td>
                                        <td class="px-4 py-2 text-center">1</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2 mono text-cyan-400">4</td>
                                        <td class="px-4 py-2 text-white font-medium">Teseracto</td>
                                        <td class="px-4 py-2 text-center text-white font-medium">16</td>
                                        <td class="px-4 py-2 text-center text-white font-medium">32</td>
                                        <td class="px-4 py-2 text-center text-white font-medium">24</td>
                                        <td class="px-4 py-2 text-center text-white font-medium">8</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-gray-300">
                            La columna de vertices verifica \(2^n\) en cada fila. Las demas columnas siguen un patron que derivaremos formalmente en la seccion 4.
                        </p>
                    </section>

                    <!-- 2. Coordenadas en R4 -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">2. Coordenadas en \(\mathbb{R}^4\)</h3>
                        <p class="text-gray-300 mb-4">
                            El espacio \(\mathbb{R}^4\) es el conjunto de todas las 4-tuplas de numeros reales. Un punto se escribe como:
                        </p>

                        $$ \mathbf{p} = (x,\, y,\, z,\, w) \in \mathbb{R}^4 $$

                        <p class="text-gray-300 mb-4">
                            La cuarta coordenada \(w\) es tan legitima como \(x\), \(y\) o \(z\). Que no podamos visualizarla fisicamente no reduce su rigor matematico. Todas las herramientas del algebra lineal funcionan sin modificacion: vectores, productos internos, normas y transformaciones lineales se definen igual que en \(\mathbb{R}^3\), simplemente con una componente adicional.
                        </p>
                        <p class="text-gray-300 mb-4">
                            La <strong class="text-white">distancia euclidiana</strong> entre dos puntos \(\mathbf{p}_1 = (x_1, y_1, z_1, w_1)\) y \(\mathbf{p}_2 = (x_2, y_2, z_2, w_2)\) es la extension natural de la formula conocida:
                        </p>

                        $$ d(\mathbf{p}_1, \mathbf{p}_2) = \sqrt{(x_1 - x_2)^2 + (y_1 - y_2)^2 + (z_1 - z_2)^2 + (w_1 - w_2)^2} $$

                        <p class="text-gray-300 mb-4">
                            Un <strong class="text-white">hiperplano</strong> en \(\mathbb{R}^4\) es el analogo del plano en \(\mathbb{R}^3\). Tiene dimension 3 y se define por una ecuacion lineal:
                        </p>

                        $$ ax + by + cz + dw = e $$

                        <p class="text-gray-300 mb-4">
                            Asi como un plano divide a \(\mathbb{R}^3\) en dos semiespacios, un hiperplano divide a \(\mathbb{R}^4\) en dos regiones. El <strong class="text-white">producto interno</strong> se extiende de forma natural:
                        </p>

                        $$ \langle \mathbf{u}, \mathbf{v} \rangle = u_x v_x + u_y v_y + u_z v_z + u_w v_w $$

                        <p class="text-gray-300">
                            Con estas herramientas podemos calcular angulos, distancias y ortogonalidad en \(\mathbb{R}^4\) con la misma precision que en dimensiones inferiores. No necesitamos "ver" el espacio para trabajar con el rigurosamente.
                        </p>
                    </section>

                    <!-- 3. Construccion del Teseracto -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">3. Construccion del Teseracto</h3>
                        <p class="text-gray-300 mb-4">
                            Construyamos el teseracto paso a paso, con coordenadas explicitas. Partimos de un cubo con vertices en \((\pm 1, \pm 1, \pm 1)\) y lo extruimos a lo largo del eje \(w\). La copia original tiene \(w = -1\) y la desplazada tiene \(w = +1\). Los <strong class="text-white">16 vertices</strong> del teseracto son todas las combinaciones:
                        </p>

                        $$ (\pm 1,\, \pm 1,\, \pm 1,\, \pm 1) $$

                        <p class="text-gray-300 mb-4">
                            Cada vertice es una 4-tupla donde cada coordenada vale \(+1\) o \(-1\). Hay \(2^4 = 16\) combinaciones posibles, lo que confirma la formula \(V = 2^n\).
                        </p>
                        <p class="text-gray-300 mb-4">
                            Dos vertices estan conectados por una <strong class="text-white">arista</strong> si y solo si difieren en exactamente una coordenada. Por ejemplo, \((1,1,1,1)\) esta conectado a \((-1,1,1,1)\), \((1,-1,1,1)\), \((1,1,-1,1)\) y \((1,1,1,-1)\). Cada vertice tiene exactamente 4 vecinos (uno por cada coordenada que puede cambiar de signo).
                        </p>
                        <p class="text-gray-300 mb-4">
                            El conteo de aristas sigue de un argumento de doble conteo. Hay 16 vertices, cada uno con 4 vecinos, y cada arista se cuenta dos veces (una por cada extremo):
                        </p>

                        $$ E = \frac{16 \cdot 4}{2} = 32 $$

                        <p class="text-gray-300 mb-4">
                            Las <strong class="text-white">caras</strong> (2-caras) del teseracto son cuadrados. Un cuadrado aparece cuando fijamos dos coordenadas y variamos las otras dos. Para elegir cuales dos coordenadas fijar, tenemos \(\binom{4}{2} = 6\) formas. Para cada eleccion, las dos coordenadas fijas pueden tomar cada una el valor \(+1\) o \(-1\), dando \(2^2 = 4\) cuadrados. En total:
                        </p>

                        $$ F = \binom{4}{2} \cdot 2^2 = 6 \cdot 4 = 24 $$

                        <p class="text-gray-300 mb-4">
                            Las <strong class="text-white">celdas</strong> (3-caras) del teseracto son cubos. Un cubo aparece cuando fijamos exactamente una coordenada al valor \(+1\) o \(-1\) y dejamos libres las otras tres. Hay \(\binom{4}{1} = 4\) coordenadas que fijar y \(2^1 = 2\) valores posibles, dando:
                        </p>

                        $$ C = \binom{4}{1} \cdot 2^1 = 4 \cdot 2 = 8 $$

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <p class="text-gray-300 mb-2"><strong class="text-cyan-400">Resumen del teseracto:</strong></p>
                            <p class="text-gray-300 mono">
                                V = 16 vertices &nbsp; E = 32 aristas &nbsp; F = 24 caras cuadradas &nbsp; C = 8 celdas cubicas
                            </p>
                        </div>
                        <p class="text-gray-300">
                            Las 8 celdas cubicas se pueden nombrar explicitamente: \(x = +1\), \(x = -1\), \(y = +1\), \(y = -1\), \(z = +1\), \(z = -1\), \(w = +1\) y \(w = -1\). Cada celda es un cubo genuino en \(\mathbb{R}^4\), contenido en un hiperplano distinto.
                        </p>
                    </section>

                    <!-- 4. La Formula del n-Cubo -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">4. La Formula del \(n\)-Cubo</h3>
                        <p class="text-gray-300 mb-4">
                            El patron que observamos para el teseracto se generaliza a cualquier dimension. El numero de \(k\)-caras del hipercubo \(n\)-dimensional (o \(n\)-cubo) es:
                        </p>

                        $$ f_k = \binom{n}{k} \cdot 2^{n-k} $$

                        <p class="text-gray-300 mb-4">
                            <strong class="text-white">Derivacion:</strong> una \(k\)-cara del \(n\)-cubo \([-1,1]^n\) se obtiene eligiendo \(k\) coordenadas "libres" (que varian en \([-1,1]\)) y fijando las \(n-k\) restantes a \(+1\) o \(-1\). La eleccion de cuales coordenadas son libres da el factor \(\binom{n}{k}\), y las \(n-k\) coordenadas fijas contribuyen \(2^{n-k}\) opciones. Cada combinacion produce una \(k\)-cara distinta, y toda \(k\)-cara se obtiene de esta forma (pues las caras del hipercubo son siempre subespacios coordenados).
                        </p>
                        <p class="text-gray-300 mb-4">
                            Verifiquemos para \(n = 3\) (el cubo ordinario):
                        </p>

                        $$ f_0 = \binom{3}{0} \cdot 2^3 = 1 \cdot 8 = 8 \;\text{ (vertices)} \quad \checkmark $$
                        $$ f_1 = \binom{3}{1} \cdot 2^2 = 3 \cdot 4 = 12 \;\text{ (aristas)} \quad \checkmark $$
                        $$ f_2 = \binom{3}{2} \cdot 2^1 = 3 \cdot 2 = 6 \;\text{ (caras)} \quad \checkmark $$

                        <p class="text-gray-300 mb-4">
                            Ahora para \(n = 4\) (teseracto):
                        </p>

                        $$ f_0 = \binom{4}{0} \cdot 2^4 = 16, \quad f_1 = \binom{4}{1} \cdot 2^3 = 32, \quad f_2 = \binom{4}{2} \cdot 2^2 = 24, \quad f_3 = \binom{4}{3} \cdot 2^1 = 8 $$

                        <p class="text-gray-300 mb-4">
                            Tambien correcto. Pero ahora notemos algo sorprendente. La formula de Euler para poliedros 3D dice \(V - E + F = 2\). Calculemos la <strong class="text-white">suma alternante</strong> para el teseracto:
                        </p>

                        $$ V - E + F - C = 16 - 32 + 24 - 8 = 0 $$

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 mb-4">
                            <p class="text-gray-300 mb-2"><strong class="text-cyan-400">Observacion clave:</strong></p>
                            <p class="text-gray-300">
                                El resultado es 0, no 2. Esto no es un error: en dimension 4, la <strong class="text-white">caracteristica de Euler-Poincare</strong> toma un valor distinto. De hecho, se puede demostrar que para el \(n\)-cubo, la suma alternante \(\sum_{k=0}^{n-1} (-1)^k f_k\) siempre es igual a \(1 + (-1)^{n-1}\), que vale 2 cuando \(n\) es impar y 0 cuando \(n\) es par. Estudiaremos esta generalizacion en la Leccion 21.
                            </p>
                        </div>
                    </section>

                    <!-- 5. Mas Alla del Hipercubo: El Simplex 4D -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">5. Mas Alla del Hipercubo: El Simplex 4D</h3>
                        <p class="text-gray-300 mb-4">
                            El hipercubo no es el unico politopo regular en \(\mathbb{R}^4\). Asi como en \(\mathbb{R}^3\) el tetraedro es el simplex (la figura mas simple posible), en \(\mathbb{R}^4\) existe un <strong class="text-white">5-celda</strong> (o pentacoro): el simplex de dimension 4.
                        </p>
                        <p class="text-gray-300 mb-4">
                            La idea es directa por analogia. En dimension 1, un segmento tiene 2 vertices equidistantes. En dimension 2, un triangulo equilatero tiene 3 vertices mutuamente equidistantes. En dimension 3, un tetraedro regular tiene 4 vertices mutuamente equidistantes. En dimension 4, necesitamos <strong class="text-white">5 puntos</strong> en \(\mathbb{R}^4\) que sean todos mutuamente equidistantes.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Una forma natural de construirlo es tomar los 4 vectores unitarios canonicos de \(\mathbb{R}^4\):
                        </p>

                        $$ \mathbf{e}_1 = (1,0,0,0), \quad \mathbf{e}_2 = (0,1,0,0), \quad \mathbf{e}_3 = (0,0,1,0), \quad \mathbf{e}_4 = (0,0,0,1) $$

                        <p class="text-gray-300 mb-4">
                            La distancia entre cualquier par de estos puntos es:
                        </p>

                        $$ d(\mathbf{e}_i, \mathbf{e}_j) = \sqrt{1^2 + 1^2} = \sqrt{2} \quad \text{para } i \neq j $$

                        <p class="text-gray-300 mb-4">
                            Estos 4 puntos son mutuamente equidistantes, pero necesitamos un quinto. El <strong class="text-white">quinto vertice</strong> \(\mathbf{e}_5\) debe satisfacer \(d(\mathbf{e}_5, \mathbf{e}_i) = \sqrt{2}\) para todo \(i\). Por simetria, buscamos \(\mathbf{e}_5 = (a, a, a, a)\) con las cuatro componentes iguales. La condicion de distancia da:
                        </p>

                        $$ \sqrt{(a-1)^2 + a^2 + a^2 + a^2} = \sqrt{2} $$
                        $$ (a-1)^2 + 3a^2 = 2 $$
                        $$ a^2 - 2a + 1 + 3a^2 = 2 $$
                        $$ 4a^2 - 2a - 1 = 0 $$

                        <p class="text-gray-300 mb-4">
                            Resolviendo con la formula cuadratica:
                        </p>

                        $$ a = \frac{2 \pm \sqrt{4 + 16}}{8} = \frac{2 \pm \sqrt{20}}{8} = \frac{1 \pm \sqrt{5}}{4} $$

                        <p class="text-gray-300 mb-4">
                            Ambas soluciones dan un vertice valido (corresponden a las dos posiciones simetricas respecto al hiperplano que contiene a \(\mathbf{e}_1, \ldots, \mathbf{e}_4\)). Tomando \(a = \frac{1 + \sqrt{5}}{4}\), obtenemos el 5-celda con vertices:
                        </p>

                        $$ \left\{(1,0,0,0),\; (0,1,0,0),\; (0,0,1,0),\; (0,0,0,1),\; \left(\tfrac{1+\sqrt{5}}{4},\tfrac{1+\sqrt{5}}{4},\tfrac{1+\sqrt{5}}{4},\tfrac{1+\sqrt{5}}{4}\right)\right\} $$

                        <p class="text-gray-300">
                            El 5-celda tiene 5 vertices, \(\binom{5}{2} = 10\) aristas (toda pareja de vertices esta conectada), 10 caras triangulares y 5 celdas tetraedricas. Es el analogo 4D del tetraedro, y como veremos en la Leccion 20, es uno de los seis politopos regulares en 4D.
                        </p>
                    </section>

                    <!-- 6. Por Que Seis, No Cinco -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">6. Por Que Seis, No Cinco</h3>
                        <p class="text-gray-300 mb-4">
                            En el Modulo 1, clasificamos los poliedros regulares en 3D y encontramos exactamente cinco: el tetraedro, el cubo, el octaedro, el dodecaedro y el icosaedro. En dimension 4 ocurre algo notable: hay <strong class="text-white">seis</strong> politopos regulares convexos, uno mas que en 3D.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Tres de ellos son analogos directos de figuras 3D: el <strong class="text-white">5-celda</strong> (analogo del tetraedro), el <strong class="text-white">8-celda</strong> o teseracto (analogo del cubo) y el <strong class="text-white">16-celda</strong> (analogo del octaedro). Otros dos extienden los pares dodecaedro/icosaedro: el <strong class="text-white">120-celda</strong> y el <strong class="text-white">600-celda</strong>.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Pero el sexto, el <strong class="text-white">24-celda</strong>, no tiene analogo en ninguna otra dimension. Es una figura exclusiva de \(\mathbb{R}^4\), con 24 celdas octaedricas, 96 aristas y 24 vertices. Su existencia es una de las razones por las que la dimension 4 es matematicamente excepcional.
                        </p>
                        <p class="text-gray-300 mb-4">
                            En dimensiones superiores, la situacion se simplifica drasticamente. En \(\mathbb{R}^5\) y todas las dimensiones posteriores, solo existen <strong class="text-white">tres</strong> politopos regulares: el simplex, el hipercubo y el hiperoctaedro (ortoplex). La riqueza geometrica disminuye:
                        </p>

                        <div class="overflow-x-auto mb-4">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Dimension</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Politopos regulares</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">2 (plano)</td>
                                        <td class="px-4 py-2 text-center">Infinitos (poligonos regulares)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 text-violet-400">3 (espacio)</td>
                                        <td class="px-4 py-2 text-center text-violet-400">5 (solidos platonicos)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2 text-cyan-400">4</td>
                                        <td class="px-4 py-2 text-center text-cyan-400 font-medium">6 (incluye el 24-celda)</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">5, 6, 7, ...</td>
                                        <td class="px-4 py-2 text-center">3 (simplex, hipercubo, ortoplex)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-gray-300">
                            La dimension 4 es, en cierto sentido, la dimension mas rica para la geometria regular. En la Leccion 6 introdujimos la notacion de Schlafli \(\{p,q\}\) para poliedros; para 4-politopos, la notacion se extiende a \(\{p,q,r\}\), un tema que desarrollaremos en la Leccion 20.
                        </p>
                    </section>

                    <!-- Ejercicios -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">Ejercicios</h3>
                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-4">
                            <div>
                                <p class="text-gray-300"><strong class="text-white">1.</strong> Calcula la distancia entre dos vertices adyacentes del teseracto con coordenadas \((\pm 1, \pm 1, \pm 1, \pm 1)\). Verifica que todas las aristas tienen la misma longitud. Pista: dos vertices adyacentes difieren en exactamente una coordenada.</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">2.</strong> Verifica la formula \(f_k = \binom{n}{k} \cdot 2^{n-k}\) para el cubo 3D (\(n=3\)). Calcula \(f_0, f_1, f_2\) y confirma que obtienes 8 vertices, 12 aristas y 6 caras.</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">3.</strong> Usa la formula del \(n\)-cubo para calcular los elementos del hipercubo 5D: vertices \(f_0\), aristas \(f_1\), 2-caras \(f_2\), 3-celdas \(f_3\) y 4-celdas \(f_4\). Luego calcula la suma alternante \(f_0 - f_1 + f_2 - f_3 + f_4\). Que valor obtienes?</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">4.</strong> Identifica las 8 celdas cubicas del teseracto. Para cada una, indica que coordenada esta fija y a que valor (\(+1\) o \(-1\)), y lista sus 8 vertices. Pista: la celda \(w = +1\) contiene todos los vertices de la forma \((\pm 1, \pm 1, \pm 1, +1)\).</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">5.</strong> Verifica que \(V - E + F - C = 0\) para el teseracto. Compara con \(V - E + F = 2\) para el cubo. Calcula tambien \(V - E\) para el segmento y \(V - E + F\) para el cuadrado. Que patron emerge en la suma alternante segun la paridad de la dimension?</p>
                            </div>
                        </div>
                    </section>

                    <!-- LAB -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">LAB: Teseracto con Rotacion 4D</h3>
                        <p class="text-gray-400 mb-4">Visualizacion del teseracto proyectado de 4D a 3D mediante proyeccion perspectiva. La rotacion automatica en el plano XW produce el efecto caracteristico del hipercubo "abriendose" hacia afuera. Arrastra con el raton para rotar en 3D; el slider controla la velocidad de rotacion 4D. Los vertices se colorean segun su coordenada \(w\): azul para \(w\) negativo, rojo para \(w\) positivo.</p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl overflow-hidden">
                            <!-- Controls -->
                            <div class="flex items-center gap-4 px-4 py-3 border-b border-gray-800">
                                <span class="text-sm text-gray-400 w-40">Velocidad 4D: <span id="speed-val" class="text-violet-400 mono">0.50</span></span>
                                <input type="range" id="speed-slider" min="0" max="100" value="50" class="flex-1 accent-violet-500">
                                <button id="pause-btn" class="px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition">Pausa</button>
                            </div>
                            <!-- Info -->
                            <div id="info-bar" class="flex justify-center gap-6 px-4 py-2 border-b border-gray-800 text-sm mono">
                                <span class="text-gray-400">V=<span class="text-violet-400">16</span></span>
                                <span class="text-gray-400">E=<span class="text-violet-400">32</span></span>
                                <span class="text-gray-400">F=<span class="text-violet-400">24</span></span>
                                <span class="text-gray-400">C=<span class="text-violet-400">8</span></span>
                                <span class="text-gray-500">|</span>
                                <span class="text-gray-400">Plano: <span class="text-cyan-400">XW</span></span>
                            </div>
                            <!-- Canvas -->
                            <div id="lab-container" class="w-full bg-black" style="height:520px; position:relative;">
                                <canvas id="lab-canvas" style="position:absolute;top:0;left:0;width:100%;height:100%;"></canvas>
                            </div>
                        </div>
                    </section>

                    <!-- Navigation -->
                    <div class="mt-12 pt-8 border-t border-gray-800 flex justify-between items-center">
                        <a href="../modulo-03/leccion-18.html" class="px-6 py-3 bg-gray-900 hover:bg-gray-800 rounded-lg text-gray-300 transition">
                            ← Modulo 3
                        </a>
                        <a href="./leccion-20.html" class="px-6 py-3 bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 rounded-lg transition">
                            Siguiente: Los Seis Politopos Regulares →
                        </a>
                    </div>
                </article>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-900 py-6 mt-12">
        <div class="max-w-6xl mx-auto px-6">
            <nav class="text-xs text-gray-600 text-center mb-2">
                <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                <span class="mx-1">/</span>
                <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                <span class="mx-1">/</span>
                <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                <span class="mx-1">/</span>
                <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
            </nav>
            <p class="text-center text-gray-700 text-sm mono">Matematicas Visuales -- De Platon a 4D</p>
        </div>
    </footer>

    <!-- Three.js LAB -->
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script>
    (function(){
        // =============================================
        // TESSERACT LAB - 4D Rotation Visualization
        // =============================================

        var container = document.getElementById('lab-container');
        var canvas = document.getElementById('lab-canvas');
        var W = container.clientWidth;
        var H = container.clientHeight;
        canvas.width = W * 2;
        canvas.height = H * 2;

        // Scene setup
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(50, W / H, 0.1, 100);
        camera.position.set(0, 0, 7);

        var renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
        renderer.setSize(W, H);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setClearColor(0x000000);

        var group = new THREE.Group();
        scene.add(group);

        // =============================================
        // Define the 16 vertices of the tesseract
        // Each vertex is [x, y, z, w] with values +1 or -1
        // =============================================
        var vertices4D = [];
        for (var i = 0; i < 16; i++) {
            var x = (i & 1) ? 1 : -1;
            var y = (i & 2) ? 1 : -1;
            var z = (i & 4) ? 1 : -1;
            var w = (i & 8) ? 1 : -1;
            vertices4D.push([x, y, z, w]);
        }

        // =============================================
        // Define the 32 edges
        // Two vertices are connected iff they differ in exactly 1 coordinate
        // =============================================
        var edges = [];
        for (var i = 0; i < 16; i++) {
            for (var j = i + 1; j < 16; j++) {
                var diff = 0;
                for (var k = 0; k < 4; k++) {
                    if (vertices4D[i][k] !== vertices4D[j][k]) diff++;
                }
                if (diff === 1) {
                    edges.push([i, j]);
                }
            }
        }

        // =============================================
        // 4D Rotation matrix in the XW plane
        // x' = x cos(a) - w sin(a)
        // w' = x sin(a) + w cos(a)
        // y and z unchanged
        // =============================================
        function rotateXW(v, angle) {
            var cosA = Math.cos(angle);
            var sinA = Math.sin(angle);
            return [
                v[0] * cosA - v[3] * sinA,
                v[1],
                v[2],
                v[0] * sinA + v[3] * cosA
            ];
        }

        // =============================================
        // Perspective projection from 4D to 3D
        // Projects along the w axis:
        //   x3 = x * d / (w + d)
        //   y3 = y * d / (w + d)
        //   z3 = z * d / (w + d)
        // where d is the projection distance
        // =============================================
        var projDist = 3.0;

        function project4Dto3D(v4) {
            var denom = projDist + v4[3];
            if (Math.abs(denom) < 0.001) denom = 0.001;
            var scale = projDist / denom;
            return [v4[0] * scale, v4[1] * scale, v4[2] * scale];
        }

        // =============================================
        // Color by w-coordinate
        // w near -1 -> blue/cyan (#22d3ee)
        // w near +1 -> red/orange (#f97316)
        // =============================================
        function colorByW(wVal) {
            // Map w from [-1, 1] to t in [0, 1]
            var t = (wVal + 1) / 2;
            t = Math.max(0, Math.min(1, t));
            // Interpolate: blue-cyan to red-orange
            var r = 0.13 + 0.84 * t;
            var g = 0.83 * (1 - t) + 0.45 * t;
            var b = 0.93 * (1 - t) + 0.09 * t;
            return new THREE.Color(r, g, b);
        }

        // =============================================
        // State variables
        // =============================================
        var angle4D = 0;
        var speed = 0.5;
        var paused = false;

        // =============================================
        // Create vertex spheres (16 total)
        // =============================================
        var vertexMeshes = [];
        var sphereGeo = new THREE.SphereGeometry(0.07, 10, 10);
        for (var i = 0; i < 16; i++) {
            var mat = new THREE.MeshBasicMaterial({ color: 0x22d3ee });
            var mesh = new THREE.Mesh(sphereGeo, mat);
            vertexMeshes.push(mesh);
            group.add(mesh);
        }

        // =============================================
        // Create edge lines (32 total)
        // =============================================
        var edgeLines = [];
        for (var i = 0; i < edges.length; i++) {
            var geo = new THREE.BufferGeometry();
            var positions = new Float32Array(6);
            geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            var mat = new THREE.LineBasicMaterial({
                color: 0xa78bfa,
                transparent: true,
                opacity: 0.6
            });
            var line = new THREE.Line(geo, mat);
            edgeLines.push(line);
            group.add(line);
        }

        // =============================================
        // Update positions: apply 4D rotation, project to 3D,
        // update sphere positions and line endpoints
        // =============================================
        function updateGeometry() {
            var projected = [];
            var wValues = [];

            // Apply 4D rotation in XW plane, then project each vertex
            for (var i = 0; i < 16; i++) {
                var v4 = rotateXW(vertices4D[i], angle4D);
                wValues.push(v4[3]);
                var v3 = project4Dto3D(v4);
                projected.push(v3);

                // Update vertex sphere position and color
                vertexMeshes[i].position.set(v3[0], v3[1], v3[2]);
                vertexMeshes[i].material.color = colorByW(v4[3]);

                // Scale sphere size by perspective (closer = bigger)
                var perspScale = projDist / (projDist + v4[3]);
                var sz = Math.max(0.3, perspScale * 1.2);
                vertexMeshes[i].scale.set(sz, sz, sz);
            }

            // Update edge lines: positions and color
            for (var i = 0; i < edges.length; i++) {
                var a = edges[i][0];
                var b = edges[i][1];
                var pa = projected[a];
                var pb = projected[b];

                var posArr = edgeLines[i].geometry.attributes.position.array;
                posArr[0] = pa[0]; posArr[1] = pa[1]; posArr[2] = pa[2];
                posArr[3] = pb[0]; posArr[4] = pb[1]; posArr[5] = pb[2];
                edgeLines[i].geometry.attributes.position.needsUpdate = true;

                // Color edge by average w of endpoints
                var avgW = (wValues[a] + wValues[b]) / 2;
                edgeLines[i].material.color = colorByW(avgW);

                // Opacity by w-depth: front edges more visible
                var avgDepth = (wValues[a] + wValues[b]) / 2;
                var opac = 0.25 + 0.55 * (projDist / (projDist + avgDepth));
                edgeLines[i].material.opacity = Math.max(0.12, Math.min(0.92, opac));
            }
        }

        // =============================================
        // Mouse drag for 3D rotation (OrbitControls-like)
        // =============================================
        var isDragging = false;
        var prevMX = 0, prevMY = 0;

        canvas.addEventListener('mousedown', function(e) {
            isDragging = true;
            prevMX = e.clientX;
            prevMY = e.clientY;
        });

        canvas.addEventListener('mousemove', function(e) {
            if (!isDragging) return;
            var dx = e.clientX - prevMX;
            var dy = e.clientY - prevMY;
            group.rotation.y += dx * 0.008;
            group.rotation.x += dy * 0.008;
            prevMX = e.clientX;
            prevMY = e.clientY;
        });

        canvas.addEventListener('mouseup', function() { isDragging = false; });
        canvas.addEventListener('mouseleave', function() { isDragging = false; });

        // Touch support for mobile
        canvas.addEventListener('touchstart', function(e) {
            e.preventDefault();
            isDragging = true;
            prevMX = e.touches[0].clientX;
            prevMY = e.touches[0].clientY;
        }, { passive: false });

        canvas.addEventListener('touchmove', function(e) {
            e.preventDefault();
            if (!isDragging) return;
            var dx = e.touches[0].clientX - prevMX;
            var dy = e.touches[0].clientY - prevMY;
            group.rotation.y += dx * 0.008;
            group.rotation.x += dy * 0.008;
            prevMX = e.touches[0].clientX;
            prevMY = e.touches[0].clientY;
        }, { passive: false });

        canvas.addEventListener('touchend', function() { isDragging = false; });

        // =============================================
        // UI Controls: speed slider + pause button
        // =============================================
        var speedSlider = document.getElementById('speed-slider');
        var speedValLabel = document.getElementById('speed-val');
        var pauseBtn = document.getElementById('pause-btn');

        speedSlider.addEventListener('input', function() {
            speed = this.value / 100;
            speedValLabel.textContent = speed.toFixed(2);
        });

        pauseBtn.addEventListener('click', function() {
            paused = !paused;
            this.textContent = paused ? 'Reanudar' : 'Pausa';
            if (paused) {
                this.classList.remove('text-gray-400', 'border-gray-700');
                this.classList.add('text-cyan-400', 'border-cyan-700');
            } else {
                this.classList.remove('text-cyan-400', 'border-cyan-700');
                this.classList.add('text-gray-400', 'border-gray-700');
            }
        });

        // =============================================
        // Animation loop
        // =============================================
        var lastTime = 0;

        function animate(time) {
            requestAnimationFrame(animate);

            var dt = lastTime ? (time - lastTime) / 1000 : 0.016;
            lastTime = time;

            // Cap delta time to avoid large jumps after tab switch
            if (dt > 0.1) dt = 0.016;

            // Auto 4D rotation in XW plane
            if (!paused) {
                angle4D += speed * dt * 1.5;
            }

            updateGeometry();
            renderer.render(scene, camera);
        }

        // Initial render and start loop
        updateGeometry();
        animate(0);

        // =============================================
        // Resize handler
        // =============================================
        window.addEventListener('resize', function() {
            W = container.clientWidth;
            H = container.clientHeight;
            camera.aspect = W / H;
            camera.updateProjectionMatrix();
            renderer.setSize(W, H);
        });

    })();
    </script>
</body>
</html>
