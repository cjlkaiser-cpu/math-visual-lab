<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leccion 25: De Poliedros a Grafos | Matematicas Visuales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glow-text { text-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
        .progress-bar { background: linear-gradient(90deg, #a855f7, #22d3ee); }
        .katex { color: inherit; font-size: 1.1em; }
    </style>
</head>
<body class="bg-black text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="border-b border-gray-900 bg-black/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <nav class="text-xs text-gray-600 mb-1">
                        <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                        <span class="mx-1">/</span>
                        <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                        <span class="mx-1">/</span>
                        <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
                        <span class="mx-1">/</span>
                        <span class="text-gray-500">Modulo 05</span>
                    </nav>
                    <h1 class="text-lg font-light">
                        <span class="text-violet-400 font-medium glow-text">Leccion 25</span> — De Poliedros a Grafos
                    </h1>
                </div>
                <nav class="flex gap-2 text-sm">
                    <a href="../modulo-04/leccion-24.html" class="px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 transition">← Anterior</a>
                    <a href="./leccion-26.html" class="px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 transition">Siguiente →</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="max-w-6xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar -->
            <aside class="lg:col-span-1">
                <div class="bg-gray-950 border border-gray-900 rounded-2xl p-6 sticky top-24">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">Modulo 05</h3>
                    <p class="text-sm text-gray-500 mb-4">Teoria de Grafos</p>

                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-2">
                            <span>Progreso</span>
                            <span>1/5</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 20%"></div>
                        </div>
                    </div>

                    <nav class="space-y-2">
                        <a href="./leccion-25.html" class="block px-3 py-2 rounded-lg bg-violet-500/10 text-violet-400 text-sm">25. De Poliedros a Grafos</a>
                        <a href="./leccion-26.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">26. Grafos Planares y Steinitz</a>
                        <a href="./leccion-27.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">27. Coloracion de Grafos</a>
                        <a href="./leccion-28.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">28. Recorridos: Euler y Hamilton</a>
                        <a href="./leccion-29.html" class="block px-3 py-2 rounded-lg hover:bg-gray-900 text-gray-400 text-sm transition">29. Espectros, Arboles y Sintesis</a>
                    </nav>
                </div>
            </aside>

            <!-- Content -->
            <main class="lg:col-span-3">
                <article class="bg-gray-950 border border-gray-900 rounded-2xl p-8">
                    <div class="mb-8">
                        <span class="text-cyan-400 text-sm font-medium">Leccion 25</span>
                        <h2 class="text-3xl font-light mt-2 mb-4">
                            <span class="text-violet-400 font-medium glow-text">De Poliedros</span> a Grafos
                        </h2>
                        <p class="text-gray-400 text-lg">Todo poliedro tiene un esqueleto combinatorio. Cambiar de perspectiva abre herramientas nuevas y poderosas.</p>
                    </div>

                    <!-- 1. De la Geometria a la Combinatoria -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">1. De la Geometria a la Combinatoria</h3>
                        <p class="text-gray-300 mb-4">
                            En los modulos anteriores estudiamos los solidos platonicos desde la geometria euclidiana, la topologia y el algebra. Ahora cambiamos de paradigma: <strong class="text-white">olvidamos las distancias, los angulos y las areas</strong>, y nos quedamos unicamente con la estructura de conexiones. Este es el punto de vista de la <strong class="text-white">teoria de grafos</strong>.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Un <strong class="text-white">grafo</strong> \(G = (V, E)\) consta de un conjunto finito de <strong class="text-white">vertices</strong> \(V\) y un conjunto de <strong class="text-white">aristas</strong> \(E\), donde cada arista es un par no ordenado \(\{u, v\}\) con \(u, v \in V\) y \(u \neq v\). La definicion es deliberadamente abstracta: no hay coordenadas, no hay forma.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Terminologia esencial. Dos vertices \(u\) y \(v\) son <strong class="text-white">adyacentes</strong> si \(\{u,v\} \in E\). El <strong class="text-white">grado</strong> de un vertice \(v\), escrito \(\deg(v)\), es el numero de aristas incidentes a \(v\). Un <strong class="text-white">camino</strong> de longitud \(k\) es una sucesion de vertices \(v_0, v_1, \ldots, v_k\) donde cada par consecutivo es adyacente. Un <strong class="text-white">ciclo</strong> es un camino cerrado (\(v_0 = v_k\)) sin vertices repetidos internos. Un grafo es <strong class="text-white">conexo</strong> si entre cualquier par de vertices existe al menos un camino.
                        </p>
                        <p class="text-gray-300">
                            Esta abstraccion es poderosa: permite aplicar resultados de teoria de grafos (coloracion, hamiltonicidad, espectro) a cualquier poliedro, sin importar si sus caras son triangulos equilateros o pentagonos irregulares.
                        </p>
                    </section>

                    <!-- 2. El Grafo Esqueleto -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">2. El Grafo Esqueleto \(G(P)\)</h3>
                        <p class="text-gray-300 mb-4">
                            Dado un poliedro \(P\), su <strong class="text-white">grafo esqueleto</strong> \(G(P)\) se construye tomando los vertices geometricos de \(P\) como vertices del grafo, y las aristas geometricas como aristas del grafo. Las caras de \(P\) se manifiestan como ciclos en \(G(P)\): cada cara \(p\)-gonal corresponde a un ciclo de longitud \(p\).
                        </p>
                        <p class="text-gray-300 mb-4">
                            El ejemplo mas simple es el tetraedro. Sus 4 vertices estan todos conectados entre si (cada par de vertices comparte una arista), de modo que \(G(\text{tetraedro}) = K_4\), el <strong class="text-white">grafo completo</strong> de 4 vertices. En un grafo completo \(K_n\), toda pareja de vertices es adyacente, y el numero de aristas es \(\binom{n}{2}\).
                        </p>

                        $$ |E(K_n)| = \binom{n}{2} = \frac{n(n-1)}{2} $$

                        <p class="text-gray-300 mb-4">
                            Para \(K_4\): \(\binom{4}{2} = 6\) aristas, que coincide con las 6 aristas del tetraedro.
                        </p>
                        <p class="text-gray-300 mb-4">
                            El cubo tiene un grafo esqueleto que no es completo. Sus 8 vertices se conectan de modo que cada vertice tiene exactamente 3 vecinos. Este grafo coincide con el <strong class="text-white">grafo del hipercubo</strong> \(Q_3\): los vertices son cadenas binarias de longitud 3, y dos vertices son adyacentes si difieren en exactamente un bit.
                        </p>
                        <p class="text-gray-300">
                            El octaedro tiene grafo \(K_{2,2,2}\), el grafo tripartito completo: tres pares de vertices antipodales, donde todo vertice es adyacente a todos excepto a su antipodal.
                        </p>
                    </section>

                    <!-- 3. La Matriz de Adyacencia -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">3. La Matriz de Adyacencia</h3>
                        <p class="text-gray-300 mb-4">
                            La informacion combinatoria de un grafo puede codificarse en una matriz. Dado \(G = (V, E)\) con \(|V| = n\), la <strong class="text-white">matriz de adyacencia</strong> \(A\) es la matriz \(n \times n\) definida por:
                        </p>

                        $$ A_{ij} = \begin{cases} 1 & \text{si } \{v_i, v_j\} \in E \\ 0 & \text{en otro caso} \end{cases} $$

                        <p class="text-gray-300 mb-4">
                            Como las aristas no tienen direccion, \(A\) es <strong class="text-white">simetrica</strong>: \(A^T = A\). No hay lazos (aristas de un vertice a si mismo), asi que \(A_{ii} = 0\) y la traza \(\operatorname{tr}(A) = 0\).
                        </p>
                        <p class="text-gray-300 mb-4">
                            Una propiedad fundamental: la entrada \((A^2)_{ij}\) cuenta el numero de <strong class="text-white">caminos de longitud 2</strong> entre \(v_i\) y \(v_j\). En particular, \((A^2)_{ii} = \deg(v_i)\), pues un camino de longitud 2 que empieza y termina en \(v_i\) pasa por un vecino de \(v_i\).
                        </p>
                        <p class="text-gray-300 mb-4">
                            Para el tetraedro \(K_4\), con vertices \(\{0,1,2,3\}\):
                        </p>

                        $$ A = \begin{pmatrix} 0 & 1 & 1 & 1 \\ 1 & 0 & 1 & 1 \\ 1 & 1 & 0 & 1 \\ 1 & 1 & 1 & 0 \end{pmatrix}, \qquad A^2 = \begin{pmatrix} 3 & 2 & 2 & 2 \\ 2 & 3 & 2 & 2 \\ 2 & 2 & 3 & 2 \\ 2 & 2 & 2 & 3 \end{pmatrix} $$

                        <p class="text-gray-300 mb-4">
                            La diagonal de \(A^2\) vale 3 (el grado de cada vertice). Las entradas fuera de la diagonal valen 2: entre cualquier par de vertices de \(K_4\) hay exactamente 2 caminos de longitud 2 (pasando por cada uno de los otros dos vertices). En notacion compacta: \(A = J - I\) y \(A^2 = 2J + I\), donde \(J\) es la matriz de unos e \(I\) la identidad.
                        </p>

                        <!-- Canvas: Adjacency Matrix -->
                        <div class="my-6">
                            <canvas id="adj-matrix-canvas" class="w-full rounded-xl" style="height: 220px;"></canvas>
                            <p class="text-center text-gray-500 text-sm mt-2">Matriz de adyacencia del tetraedro: violeta = 1 (adyacente), oscuro = 0</p>
                        </div>
                    </section>

                    <!-- 4. Handshaking y Conteo -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">4. Handshaking y Conteo</h3>
                        <p class="text-gray-300 mb-4">
                            El <strong class="text-white">lema del apretón de manos</strong> (handshaking lemma) es el resultado mas basico y mas util de teoria de grafos. Cada arista tiene dos extremos, asi que al sumar los grados de todos los vertices, cada arista se cuenta exactamente dos veces:
                        </p>

                        $$ \sum_{v \in V} \deg(v) = 2|E| $$

                        <p class="text-gray-300 mb-4">
                            Para un poliedro con simbolo de Schlafli \(\{p, q\}\), cada vertice tiene grado \(q\) y cada cara es un \(p\)-gono. Entonces:
                        </p>

                        $$ Vq = 2E \quad \text{(handshaking)} \qquad Fp = 2E \quad \text{(cada arista bordea 2 caras)} $$

                        <p class="text-gray-300 mb-4">
                            Combinando con la formula de Euler \(V - E + F = 2\), sustituimos \(V = 2E/q\) y \(F = 2E/p\):
                        </p>

                        $$ \frac{2E}{q} - E + \frac{2E}{p} = 2 \implies E\left(\frac{2}{q} + \frac{2}{p} - 1\right) = 2 $$

                        <p class="text-gray-300 mb-4">
                            Esto nos da una formula cerrada para \(E\), y con ella \(V\) y \(F\):
                        </p>

                        $$ E = \frac{2pq}{2p + 2q - pq}, \qquad V = \frac{4p}{2p + 2q - pq}, \qquad F = \frac{4q}{2p + 2q - pq} $$

                        <p class="text-gray-300 mb-4">
                            La condicion para que existan soluciones positivas es \(2p + 2q - pq > 0\), equivalente a \((p-2)(q-2) < 4\). Esta es precisamente la desigualdad que clasifica los cinco solidos platonicos.
                        </p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6">
                            <p class="text-gray-300 mb-2"><strong class="text-cyan-400">Verificacion para el cubo \(\{4, 3\}\):</strong></p>
                            <p class="text-gray-300 mono text-sm">
                                E = 2(4)(3) / (8 + 6 - 12) = 24/2 = 12 &nbsp;&nbsp; V = 4(4)/2 = 8 &nbsp;&nbsp; F = 4(3)/2 = 6 &nbsp;&nbsp; 8 - 12 + 6 = 2 &#10003;
                            </p>
                        </div>
                    </section>

                    <!-- 5. Los Cinco Grafos Platonicos -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">5. Los Cinco Grafos Platonicos</h3>
                        <p class="text-gray-300 mb-4">
                            La siguiente tabla resume las propiedades combinatorias de los cinco grafos esqueleto. El <strong class="text-white">diametro</strong> es la maxima distancia (camino mas corto) entre cualquier par de vertices. La <strong class="text-white">cintura</strong> (girth) es la longitud del ciclo mas corto.
                        </p>

                        <div class="overflow-x-auto mb-6">
                            <table class="w-full text-sm text-gray-300">
                                <thead>
                                    <tr class="border-b border-gray-800">
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Solido \(\{p,q\}\)</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">V</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">E</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">F</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Grado</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Diam.</th>
                                        <th class="px-4 py-3 text-center text-gray-400 font-medium">Cintura</th>
                                        <th class="px-4 py-3 text-left text-gray-400 font-medium">Grafo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Tetraedro \(\{3,3\}\)</td>
                                        <td class="px-4 py-2 text-center mono text-violet-400">4</td>
                                        <td class="px-4 py-2 text-center mono">6</td>
                                        <td class="px-4 py-2 text-center mono">4</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-center mono">1</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-cyan-400">\(K_4\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Cubo \(\{4,3\}\)</td>
                                        <td class="px-4 py-2 text-center mono text-violet-400">8</td>
                                        <td class="px-4 py-2 text-center mono">12</td>
                                        <td class="px-4 py-2 text-center mono">6</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-center mono">4</td>
                                        <td class="px-4 py-2 text-cyan-400">\(Q_3\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Octaedro \(\{3,4\}\)</td>
                                        <td class="px-4 py-2 text-center mono text-violet-400">6</td>
                                        <td class="px-4 py-2 text-center mono">12</td>
                                        <td class="px-4 py-2 text-center mono">8</td>
                                        <td class="px-4 py-2 text-center mono">4</td>
                                        <td class="px-4 py-2 text-center mono">2</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-cyan-400">\(K_{2,2,2}\)</td>
                                    </tr>
                                    <tr class="border-b border-gray-900">
                                        <td class="px-4 py-2">Dodecaedro \(\{5,3\}\)</td>
                                        <td class="px-4 py-2 text-center mono text-violet-400">20</td>
                                        <td class="px-4 py-2 text-center mono">30</td>
                                        <td class="px-4 py-2 text-center mono">12</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-center mono">5</td>
                                        <td class="px-4 py-2 text-center mono">5</td>
                                        <td class="px-4 py-2 text-cyan-400">3-regular</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">Icosaedro \(\{3,5\}\)</td>
                                        <td class="px-4 py-2 text-center mono text-violet-400">12</td>
                                        <td class="px-4 py-2 text-center mono">30</td>
                                        <td class="px-4 py-2 text-center mono">20</td>
                                        <td class="px-4 py-2 text-center mono">5</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-center mono">3</td>
                                        <td class="px-4 py-2 text-cyan-400">5-regular</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <p class="text-gray-300 mb-4">
                            Observaciones. El tetraedro tiene diametro 1 porque es completo (todo par de vertices es adyacente). El cubo y el dodecaedro son 3-regulares pero con diametros muy distintos (3 vs. 5), lo que refleja la diferencia de tamanio. El cubo y el octaedro comparten \(E = 12\) pero con distribuciones distintas de grado (3 vs. 4).
                        </p>

                        <!-- Canvas: 5 Platonic Graphs -->
                        <div class="my-6">
                            <canvas id="platonic-graphs-canvas" class="w-full rounded-xl" style="height: 280px;"></canvas>
                            <p class="text-center text-gray-500 text-sm mt-2">Los cinco grafos platonicos en disposicion circular: tetraedro, cubo, octaedro, dodecaedro, icosaedro</p>
                        </div>
                    </section>

                    <!-- 6. Grafo Dual -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-violet-400 mb-4">6. Grafo Dual</h3>
                        <p class="text-gray-300 mb-4">
                            Todo grafo planar tiene un <strong class="text-white">grafo dual</strong> \(G^*\), construido colocando un vertice en cada cara de \(G\) y conectando dos vertices de \(G^*\) cuando las caras correspondientes comparten una arista en \(G\). Para poliedros, esto equivale a la dualidad clasica de Modulo 3.
                        </p>
                        <p class="text-gray-300 mb-4">
                            El tetraedro \(\{3,3\}\) es <strong class="text-white">autodual</strong>: su dual es otro tetraedro. Formalmente, \(G^*(\text{tetraedro}) \cong K_4 = G(\text{tetraedro})\). Esto refleja que intercambiar \(p \leftrightarrow q\) en \(\{3,3\}\) produce el mismo simbolo.
                        </p>
                        <p class="text-gray-300 mb-4">
                            Los demas forman pares duales: el dual del cubo \(\{4,3\}\) es el octaedro \(\{3,4\}\), y el dual del dodecaedro \(\{5,3\}\) es el icosaedro \(\{3,5\}\). En terminos de grafos:
                        </p>

                        $$ G^*(\text{cubo}) \cong G(\text{octaedro}), \qquad G^*(\text{dodecaedro}) \cong G(\text{icosaedro}) $$

                        <p class="text-gray-300 mb-4">
                            La correspondencia explicita para cubo-octaedro es: las 6 caras del cubo se convierten en los 6 vertices del octaedro, y dos caras del cubo que comparten una arista producen una arista en el octaedro. Las 12 aristas del cubo generan 12 aristas en el octaedro.
                        </p>
                        <p class="text-gray-300">
                            A nivel de grafos, la dualidad intercambia \(V \leftrightarrow F\) mientras preserva \(E\). Esto es consistente con la formula de Euler: si \(V - E + F = 2\) para \(G\), entonces \(F - E + V = 2\) para \(G^*\), que es la misma ecuacion.
                        </p>
                    </section>

                    <!-- Ejercicios -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">Ejercicios</h3>
                        <div class="bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-4">
                            <div>
                                <p class="text-gray-300"><strong class="text-white">1.</strong> Escribe la matriz de adyacencia \(A\) del octaedro (6 vertices, con los pares antipodales \(\{0,5\}, \{1,3\}, \{2,4\}\) no conectados). Calcula \(A^2\) y verifica que las entradas diagonales son 4 (el grado de cada vertice).</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">2.</strong> Verifica el lema del apreton de manos \(\sum \deg(v) = 2|E|\) para los cinco solidos platonicos. En cada caso, calcula \(V \cdot q\) y comprueba que coincide con \(2E\).</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">3.</strong> Determina el diametro del dodecaedro. Identifica un par de vertices a distancia 5 y demuestra que no existe un camino mas corto entre ellos. Pista: el dodecaedro tiene 20 vertices y es 3-regular.</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">4.</strong> Construye explicitamente la correspondencia entre el dual del cubo y el grafo del octaedro. Etiqueta las 6 caras del cubo como \(f_1, \ldots, f_6\) y muestra que las adyacencias entre caras reproducen exactamente las aristas del octaedro.</p>
                            </div>
                            <div>
                                <p class="text-gray-300"><strong class="text-white">5.</strong> El cubo es bipartito: sus 8 vertices se pueden dividir en dos conjuntos de 4 tal que toda arista conecta un vertice de cada conjunto. Exhibe la biparticion explicitamente usando la representacion binaria de los vertices y demuestra que ningun otro solido platonico es bipartito.</p>
                            </div>
                        </div>
                    </section>

                    <!-- LAB -->
                    <section class="mb-10">
                        <h3 class="text-xl font-semibold text-cyan-400 mb-4">LAB: Explorador de Grafos Platonicos</h3>
                        <p class="text-gray-400 mb-4">Selecciona un grafo platonico para visualizarlo. Arrastra vertices para reorganizar la disposicion. Haz clic en un vertice para resaltar sus vecinos.</p>

                        <div class="bg-gray-900 border border-gray-800 rounded-xl overflow-hidden">
                            <!-- Controls -->
                            <div class="flex flex-wrap items-center gap-2 px-4 py-3 border-b border-gray-800">
                                <button data-graph="0" class="lab-btn px-3 py-1.5 rounded-lg text-sm bg-violet-500/20 text-violet-400 border border-violet-500/30 transition">Tetraedro</button>
                                <button data-graph="1" class="lab-btn px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition">Cubo</button>
                                <button data-graph="2" class="lab-btn px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition">Octaedro</button>
                                <button data-graph="3" class="lab-btn px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition">Dodecaedro</button>
                                <button data-graph="4" class="lab-btn px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition">Icosaedro</button>
                                <button id="lab-reset" class="ml-auto px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-cyan-400 transition">Reset</button>
                            </div>
                            <!-- Info -->
                            <div id="lab-info" class="flex justify-center gap-6 px-4 py-2 border-b border-gray-800 text-sm mono">
                                <span class="text-gray-400">V=<span id="info-v" class="text-violet-400">4</span></span>
                                <span class="text-gray-400">E=<span id="info-e" class="text-violet-400">6</span></span>
                                <span class="text-gray-400">grado=<span id="info-deg" class="text-violet-400">3</span></span>
                                <span class="text-gray-400">diam=<span id="info-diam" class="text-cyan-400">1</span></span>
                                <span class="text-gray-400">cintura=<span id="info-girth" class="text-cyan-400">3</span></span>
                            </div>
                            <!-- Canvas -->
                            <div id="lab-container" class="w-full bg-black" style="height:480px; position:relative;">
                                <canvas id="lab-canvas" style="position:absolute;top:0;left:0;width:100%;height:100%;"></canvas>
                            </div>
                        </div>
                    </section>

                    <!-- Navigation -->
                    <div class="mt-12 pt-8 border-t border-gray-800 flex justify-between items-center">
                        <a href="../modulo-04/leccion-24.html" class="px-6 py-3 bg-gray-900 hover:bg-gray-800 rounded-lg text-gray-300 transition">
                            ← Modulo 4
                        </a>
                        <a href="./leccion-26.html" class="px-6 py-3 bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 rounded-lg transition">
                            Siguiente: Grafos Planares y Steinitz →
                        </a>
                    </div>
                </article>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-gray-900 py-6 mt-12">
        <div class="max-w-6xl mx-auto px-6">
            <nav class="text-xs text-gray-600 text-center mb-2">
                <a href="../../../../../_portal/index.html" class="hover:text-violet-400 transition">EigenLab</a>
                <span class="mx-1">/</span>
                <a href="../../../index.html" class="hover:text-violet-400 transition">Math Visual Lab</a>
                <span class="mx-1">/</span>
                <a href="../../index.html" class="hover:text-violet-400 transition">Platonic Lab</a>
                <span class="mx-1">/</span>
                <a href="../index.html" class="hover:text-violet-400 transition">Curso</a>
            </nav>
            <p class="text-center text-gray-700 text-sm mono">Matematicas Visuales -- De Platon a 4D</p>
        </div>
    </footer>

    <script>
    // ============================================================
    // GRAPH DATA for all 5 Platonic solids
    // ============================================================
    var GRAPHS = [
        { name: 'Tetraedro', V: 4, deg: 3, diam: 1, girth: 3,
          edges: [[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]] },
        { name: 'Cubo', V: 8, deg: 3, diam: 3, girth: 4,
          edges: [[0,1],[0,2],[0,4],[1,3],[1,5],[2,3],[2,6],[3,7],[4,5],[4,6],[5,7],[6,7]] },
        { name: 'Octaedro', V: 6, deg: 4, diam: 2, girth: 3,
          edges: [[0,1],[0,2],[0,3],[0,4],[1,2],[1,4],[1,5],[2,3],[2,5],[3,4],[3,5],[4,5]] },
        { name: 'Dodecaedro', V: 20, deg: 3, diam: 5, girth: 5,
          edges: [[0,1],[1,2],[2,3],[3,4],[4,0],
                  [0,5],[1,6],[2,7],[3,8],[4,9],
                  [5,10],[5,14],[6,10],[6,11],[7,11],[7,12],[8,12],[8,13],[9,13],[9,14],
                  [10,15],[11,16],[12,17],[13,18],[14,19],
                  [15,16],[16,17],[17,18],[18,19],[19,15]] },
        { name: 'Icosaedro', V: 12, deg: 5, diam: 3, girth: 3,
          edges: [[0,1],[0,2],[0,3],[0,4],[0,5],
                  [1,2],[2,3],[3,4],[4,5],[5,1],
                  [1,6],[2,6],[2,7],[3,7],[3,8],[4,8],[4,9],[5,9],[5,10],[1,10],
                  [6,7],[7,8],[8,9],[9,10],[10,6],
                  [11,6],[11,7],[11,8],[11,9],[11,10]] }
    ];

    function circularLayout(n, cx, cy, r) {
        var pos = [];
        for (var i = 0; i < n; i++) {
            var a = -Math.PI / 2 + 2 * Math.PI * i / n;
            pos.push([cx + r * Math.cos(a), cy + r * Math.sin(a)]);
        }
        return pos;
    }

    // ============================================================
    // ILLUSTRATION 1: Adjacency Matrix of the Tetrahedron
    // ============================================================
    (function() {
        var c = document.getElementById('adj-matrix-canvas');
        if (!c) return;
        var W = c.clientWidth, H = c.clientHeight;
        var dpr = window.devicePixelRatio || 1;
        c.width = W * dpr; c.height = H * dpr;
        var ctx = c.getContext('2d');
        ctx.scale(dpr, dpr);

        var n = 4;
        var A = [[0,1,1,1],[1,0,1,1],[1,1,0,1],[1,1,1,0]];
        var cellSize = Math.min(36, (H - 60) / (n + 1));
        var gridW = cellSize * n;
        var startX = W / 2 - gridW / 2;
        var startY = 30;

        // Header labels
        ctx.fillStyle = '#9ca3af';
        ctx.font = '12px "JetBrains Mono", monospace';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        for (var j = 0; j < n; j++) {
            ctx.fillText('' + j, startX + j * cellSize + cellSize / 2, startY - 12);
        }
        for (var i = 0; i < n; i++) {
            ctx.fillText('' + i, startX - 14, startY + i * cellSize + cellSize / 2);
        }

        // Grid cells
        for (var i = 0; i < n; i++) {
            for (var j = 0; j < n; j++) {
                var x = startX + j * cellSize;
                var y = startY + i * cellSize;
                if (A[i][j] === 1) {
                    ctx.fillStyle = 'rgba(167, 139, 250, 0.35)';
                } else {
                    ctx.fillStyle = 'rgba(31, 41, 55, 0.6)';
                }
                ctx.fillRect(x + 1, y + 1, cellSize - 2, cellSize - 2);
                ctx.fillStyle = A[i][j] === 1 ? '#c4b5fd' : '#4b5563';
                ctx.font = '14px "JetBrains Mono", monospace';
                ctx.fillText('' + A[i][j], x + cellSize / 2, y + cellSize / 2);
            }
        }

        // A^2 matrix to the right
        var A2 = [[3,2,2,2],[2,3,2,2],[2,2,3,2],[2,2,2,3]];
        var startX2 = W / 2 + 40;
        ctx.fillStyle = '#9ca3af';
        ctx.font = '13px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('A', W / 2 - gridW / 2 - 30, startY + gridW / 2);
        ctx.fillText('A\u00B2', startX2 - 16, startY + gridW / 2);

        for (var j = 0; j < n; j++) {
            ctx.fillStyle = '#9ca3af';
            ctx.font = '12px "JetBrains Mono", monospace';
            ctx.fillText('' + j, startX2 + j * cellSize + cellSize / 2, startY - 12);
        }
        for (var i = 0; i < n; i++) {
            ctx.fillText('' + i, startX2 - 14, startY + i * cellSize + cellSize / 2);
            for (var j = 0; j < n; j++) {
                var x = startX2 + j * cellSize;
                var y = startY + i * cellSize;
                var v = A2[i][j];
                ctx.fillStyle = i === j ? 'rgba(34, 211, 238, 0.25)' : 'rgba(167, 139, 250, 0.2)';
                ctx.fillRect(x + 1, y + 1, cellSize - 2, cellSize - 2);
                ctx.fillStyle = i === j ? '#67e8f9' : '#c4b5fd';
                ctx.font = '14px "JetBrains Mono", monospace';
                ctx.textAlign = 'center';
                ctx.fillText('' + v, x + cellSize / 2, y + cellSize / 2);
            }
        }

        // Caption below
        ctx.fillStyle = '#6b7280';
        ctx.font = '11px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Diagonal de A\u00B2 = 3 = grado.   Fuera de diagonal = 2 caminos de longitud 2.', W / 2, startY + gridW + 24);
    })();

    // ============================================================
    // ILLUSTRATION 2: The Five Platonic Graphs (circular layout)
    // ============================================================
    (function() {
        var c = document.getElementById('platonic-graphs-canvas');
        if (!c) return;
        var W = c.clientWidth, H = c.clientHeight;
        var dpr = window.devicePixelRatio || 1;
        c.width = W * dpr; c.height = H * dpr;
        var ctx = c.getContext('2d');
        ctx.scale(dpr, dpr);

        var names = ['K\u2084', 'Q\u2083', 'K\u2082,\u2082,\u2082', 'Dodec.', 'Icosa.'];
        var colW = W / 5;

        for (var g = 0; g < 5; g++) {
            var graph = GRAPHS[g];
            var cx = colW * g + colW / 2;
            var cy = H / 2 - 10;
            var r = Math.min(colW / 2 - 20, H / 2 - 45);
            if (graph.V > 12) r = Math.min(colW / 2 - 12, H / 2 - 40);
            var vr = graph.V <= 8 ? 5 : (graph.V <= 12 ? 4 : 3);
            var pos = circularLayout(graph.V, cx, cy, r);

            // Draw edges
            ctx.strokeStyle = 'rgba(156, 163, 175, 0.3)';
            ctx.lineWidth = graph.V > 12 ? 0.7 : 1;
            for (var e = 0; e < graph.edges.length; e++) {
                var a = graph.edges[e][0], b = graph.edges[e][1];
                ctx.beginPath();
                ctx.moveTo(pos[a][0], pos[a][1]);
                ctx.lineTo(pos[b][0], pos[b][1]);
                ctx.stroke();
            }

            // Draw vertices
            for (var i = 0; i < graph.V; i++) {
                ctx.beginPath();
                ctx.arc(pos[i][0], pos[i][1], vr, 0, Math.PI * 2);
                ctx.fillStyle = '#a78bfa';
                ctx.fill();
            }

            // Label
            ctx.fillStyle = '#9ca3af';
            ctx.font = '12px Inter, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(names[g], cx, H - 10);
        }
    })();

    // ============================================================
    // LAB: Interactive Graph Explorer
    // ============================================================
    (function() {
        var container = document.getElementById('lab-container');
        var canvas = document.getElementById('lab-canvas');
        if (!container || !canvas) return;

        var W, H, dpr, ctx;
        var currentGraph = 0;
        var positions = [];
        var selectedVertex = -1;
        var dragVertex = -1;
        var isDragging = false;

        function resize() {
            W = container.clientWidth;
            H = container.clientHeight;
            dpr = window.devicePixelRatio || 1;
            canvas.width = W * dpr;
            canvas.height = H * dpr;
            ctx = canvas.getContext('2d');
            ctx.scale(dpr, dpr);
        }

        function initPositions() {
            var g = GRAPHS[currentGraph];
            positions = circularLayout(g.V, W / 2, H / 2, Math.min(W, H) / 2 - 50);
            selectedVertex = -1;
        }

        function getNeighbors(v) {
            var g = GRAPHS[currentGraph];
            var nbrs = [];
            for (var i = 0; i < g.edges.length; i++) {
                var e = g.edges[i];
                if (e[0] === v) nbrs.push(e[1]);
                else if (e[1] === v) nbrs.push(e[0]);
            }
            return nbrs;
        }

        function draw() {
            ctx.clearRect(0, 0, W, H);
            var g = GRAPHS[currentGraph];
            var nbrs = selectedVertex >= 0 ? getNeighbors(selectedVertex) : [];
            var nbrSet = {};
            for (var i = 0; i < nbrs.length; i++) nbrSet[nbrs[i]] = true;

            // Edges
            for (var i = 0; i < g.edges.length; i++) {
                var a = g.edges[i][0], b = g.edges[i][1];
                var highlight = (selectedVertex >= 0) && (a === selectedVertex || b === selectedVertex);
                ctx.beginPath();
                ctx.moveTo(positions[a][0], positions[a][1]);
                ctx.lineTo(positions[b][0], positions[b][1]);
                ctx.strokeStyle = highlight ? 'rgba(34, 211, 238, 0.7)' : 'rgba(107, 114, 128, 0.35)';
                ctx.lineWidth = highlight ? 2.5 : 1.2;
                ctx.stroke();
            }

            // Vertices
            var vr = g.V <= 8 ? 10 : (g.V <= 12 ? 8 : 6);
            for (var i = 0; i < g.V; i++) {
                ctx.beginPath();
                ctx.arc(positions[i][0], positions[i][1], vr, 0, Math.PI * 2);
                if (i === selectedVertex) {
                    ctx.fillStyle = '#22d3ee';
                } else if (nbrSet[i]) {
                    ctx.fillStyle = '#a78bfa';
                } else {
                    ctx.fillStyle = selectedVertex >= 0 ? 'rgba(107, 114, 128, 0.4)' : '#a78bfa';
                }
                ctx.fill();

                // Vertex label
                ctx.fillStyle = '#fff';
                ctx.font = (g.V <= 12 ? '11' : '9') + 'px "JetBrains Mono", monospace';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('' + i, positions[i][0], positions[i][1]);
            }
        }

        function updateInfo() {
            var g = GRAPHS[currentGraph];
            document.getElementById('info-v').textContent = g.V;
            document.getElementById('info-e').textContent = g.edges.length;
            document.getElementById('info-deg').textContent = g.deg;
            document.getElementById('info-diam').textContent = g.diam;
            document.getElementById('info-girth').textContent = g.girth;
        }

        function findVertex(mx, my) {
            var g = GRAPHS[currentGraph];
            var vr = g.V <= 8 ? 14 : (g.V <= 12 ? 12 : 10);
            for (var i = 0; i < g.V; i++) {
                var dx = mx - positions[i][0], dy = my - positions[i][1];
                if (dx * dx + dy * dy < vr * vr) return i;
            }
            return -1;
        }

        function getMousePos(e) {
            var rect = canvas.getBoundingClientRect();
            return [e.clientX - rect.left, e.clientY - rect.top];
        }

        // Mouse events
        canvas.addEventListener('mousedown', function(e) {
            var p = getMousePos(e);
            var v = findVertex(p[0], p[1]);
            if (v >= 0) { dragVertex = v; isDragging = true; }
        });
        canvas.addEventListener('mousemove', function(e) {
            if (isDragging && dragVertex >= 0) {
                var p = getMousePos(e);
                positions[dragVertex] = [p[0], p[1]];
                draw();
            }
        });
        canvas.addEventListener('mouseup', function(e) {
            if (!isDragging) return;
            var p = getMousePos(e);
            var v = findVertex(p[0], p[1]);
            if (v >= 0 && v === dragVertex) {
                selectedVertex = (selectedVertex === v) ? -1 : v;
            }
            isDragging = false;
            dragVertex = -1;
            draw();
        });
        canvas.addEventListener('mouseleave', function() { isDragging = false; dragVertex = -1; });

        // Touch events
        canvas.addEventListener('touchstart', function(e) {
            e.preventDefault();
            var t = e.touches[0];
            var rect = canvas.getBoundingClientRect();
            var p = [t.clientX - rect.left, t.clientY - rect.top];
            var v = findVertex(p[0], p[1]);
            if (v >= 0) { dragVertex = v; isDragging = true; }
        }, { passive: false });
        canvas.addEventListener('touchmove', function(e) {
            e.preventDefault();
            if (isDragging && dragVertex >= 0) {
                var t = e.touches[0];
                var rect = canvas.getBoundingClientRect();
                positions[dragVertex] = [t.clientX - rect.left, t.clientY - rect.top];
                draw();
            }
        }, { passive: false });
        canvas.addEventListener('touchend', function(e) {
            if (dragVertex >= 0) {
                selectedVertex = (selectedVertex === dragVertex) ? -1 : dragVertex;
            }
            isDragging = false; dragVertex = -1;
            draw();
        });

        // Graph selection buttons
        var btns = document.querySelectorAll('.lab-btn');
        btns.forEach(function(btn) {
            btn.addEventListener('click', function() {
                currentGraph = parseInt(this.getAttribute('data-graph'));
                btns.forEach(function(b) {
                    b.className = 'lab-btn px-3 py-1.5 rounded-lg text-sm bg-gray-800 border border-gray-700 text-gray-400 hover:text-violet-400 transition';
                });
                this.className = 'lab-btn px-3 py-1.5 rounded-lg text-sm bg-violet-500/20 text-violet-400 border border-violet-500/30 transition';
                initPositions();
                updateInfo();
                draw();
            });
        });

        // Reset button
        document.getElementById('lab-reset').addEventListener('click', function() {
            initPositions();
            draw();
        });

        // Init
        resize();
        initPositions();
        updateInfo();
        draw();
        window.addEventListener('resize', function() { resize(); initPositions(); draw(); });
    })();
    </script>
</body>
</html>
